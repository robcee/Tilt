'use strict';var i=void 0,M=null;function R(){return function(){}}function ba(a){return function(b){this[a]=b}}function T(a){return function(){return this[a]}}var U,TiltChrome=TiltChrome||{};
TiltChrome.BrowserOverlay={href:M,canvas:M,j:M,C:M,F:M,initialize:function(){TiltChrome.Config.Visualization.reload();if(da&&TiltChrome.Config.Visualization.nativeTiltEnabled!==M&&TiltChrome.Config.Visualization.nativeTiltHello!==M)if(this.j===M&&(TiltChrome.Config.Visualization.nativeTiltEnabled===!0||TiltChrome.Config.Visualization.nativeTiltHello===!0)){this.j=Tilt;this.Gf();this.nativeImpl();return}else if(this.j===Tilt&&(this.j=M,InspectorUI.closeInspectorUI(),!this.ue))return;this.destroy(!0);
if(this.href===window.content.location.href)this.href=M;else{this.href=window.content.location.href;this.C={q:document.getElementById("tilt-sourceeditor"),title:document.getElementById("tilt-sourceeditor-title"),Oa:document.getElementById("tilt-sourceeditor-iframe")};this.F={q:document.getElementById("tilt-colorpicker"),Oa:document.getElementById("tilt-colorpicker-iframe")};this.C.refresh=this.C.Oa.contentWindow.refreshCodeEditor;this.F.refresh=this.F.Oa.contentWindow.refreshColorPicker;gBrowser.selectedBrowser.markupDocumentViewer.fullZoom=
1;var a=window.content.innerWidth,b=window.content.innerHeight;Tilt.H.pb=document.getElementById("tilt-iframe").contentDocument;Tilt.H.Ia=gBrowser.selectedBrowser.parentNode;this.canvas=Tilt.H.Qa(a,b,!0);this.j=new TiltChrome.Visualization(this.canvas,new TiltChrome.Kd.Xe,new TiltChrome.c.We)}},destroy:function(a,b){Tilt.H.pb=M;Tilt.H.Ia=M;this.ue=!1;if(this.canvas!==M)this.canvas.parentNode.removeChild(this.canvas),this.canvas=M;var c=function(){try{if(this.j!==M)this.j.destroy(),this.j=M;if(this.C!==
M)this.C.q.hidePopup(),this.C.q=M,this.C.title=M,this.C=this.C.Oa=M;if(this.F!==M)this.F.q.hidePopup(),this.F.q=M,this.F=this.F.Oa=M}catch(b){}Tilt.n.log();Tilt.n.reset();a&&window.setTimeout(function(){this.bc()}.bind(this),100)}.bind(this);b?window.setTimeout(function(){c()},100):c()},Gf:function(){if(!this.Nf)this.Nf=!0,Services.obs.addObserver(function(){this.j!==M&&this.j!==Tilt&&this.destroy(!0)}.bind(this),ka,!1),Services.obs.addObserver(function(){if(this.j!==M)this.j=M}.bind(this),na,!1)},
nativeImpl:function(){Services.obs.addObserver(function b(){Services.obs.removeObserver(b,ka);InspectorUI.stopInspecting();document.getElementById("highlighter-container").style.display="none";document.getElementById("inspector-inspect-toolbutton").disabled=!0;document.getElementById("inspector-3D-button").checked=!0;window.setTimeout(function(){Tilt.initialize()},100);TiltChrome.Config.Visualization.nativeTiltHello&&window.setTimeout(function(){if(Tilt.visualizers[Tilt.currentWindowId]&&Tilt.visualizers[Tilt.currentWindowId].isInitialized()){var b=
{value:!0},d=Tilt.G.confirmCheck(Tilt.T.get("tilt.native.title"),Tilt.T.get("tilt.native.text"),Tilt.T.get("tilt.native.check"),b);TiltChrome.Config.Visualization.Set.nativeTiltHello(b.value);TiltChrome.Config.Visualization.Set.nativeTiltEnabled(d);if(!d)TiltChrome.BrowserOverlay.ue=!0,TiltChrome.BrowserOverlay.initialize(),InspectorUI.closeInspectorUI()}},1500)},ka,!1);InspectorUI.toggleInspectorUI()},bc:function(){window.QueryInterface(Ci.nsIInterfaceRequestor).getInterface(Ci.nsIDOMWindowUtils).garbageCollect()}};
var da="object"===typeof InspectorUI&&InspectorUI&&InspectorUI.INSPECTOR_NOTIFICATIONS&&InspectorUI.openInspectorUI&&InspectorUI.closeInspectorUI&&InspectorUI.toggleInspectorUI&&InspectorUI.stopInspecting;if(da)var ka=InspectorUI.INSPECTOR_NOTIFICATIONS.OPENED,na=InspectorUI.INSPECTOR_NOTIFICATIONS.CLOSED;var Tilt=Tilt||{};
Tilt.Id=function(a,b,c,d,f){Tilt.n.o("Tilt.Arcball",this);this.eb=[0,0];this.Kb=[0,0];this.Jb=[0,0];this.ud=[0,0];this.va=-1;this.Da=0;this.Te=1;this.Se=-3E3;this.Re=500;this.mc=[];this.Ad=X();this.Ke=X();this.Me=X();this.nc=oa([0,0,0,1]);this.jd=oa([0,0,0,1]);this.jc=oa([0,0,0,1]);this.rd=X();this.kd=X();this.hd=X();this.Db=f||[0,0];this.Eb=d||[0,0];this.He=oa([0,0,0,1]);this.Ie=X();this.ra(a,b,c)};
Tilt.Id.prototype={loop:function(a){var a=Tilt.g.O((a||25)*0.01,0.01,0.99),b,c,d=this.wd,f=this.s,g=this.k,h=this.eb,j=this.Kb,l=this.Jb;c=this.ud;var m=this.va,p=this.Da,k=this.mc,w=this.Ad,x=this.Ke,t=this.Me,A=this.nc,r=this.jd,s=this.jc,v=this.rd,u=this.kd,q=this.hd,z=this.Db,B=this.Eb,n=this.He,C=this.Ie;c[0]+=(l[0]-c[0])*a;c[1]+=(l[1]-c[1])*a;b=c[0];c=c[1];if(m===3||b===j[0]&&c===j[1])this.xd=!1;m===1||this.xd?(this.xd=!0,this.qe(b,c,f,g,d,x),pa(w,x,t),Z(t)>0?(r[0]=t[0],r[1]=t[1],r[2]=t[2],
r[3]=-qa(w,x)):(r[0]=0,r[1]=0,r[2]=0,r[3]=1),ra(A,r,s)):sa(s,A);m===3?(u[0]=l[0]-h[0],u[1]=l[1]-h[1],q[0]=v[0]+u[0],q[1]=v[1]+u[1]):(v[0]=q[0],v[1]=q[1]);u[2]=(p-q[2])*0.1;q[2]+=u[2];k[65]&&(z[0]-=a*0.2);k[68]&&(z[0]+=a*0.2);k[87]&&(z[1]+=a*0.2);k[83]&&(z[1]-=a*0.2);k[37]&&(B[0]+=a*50);k[39]&&(B[0]-=a*50);k[38]&&(B[1]+=a*50);k[40]&&(B[1]-=a*50);n[0]+=(z[0]-n[0])*a;n[1]+=(z[1]-n[1])*a;C[0]+=(B[0]-C[0])*a;C[1]+=(B[1]-C[1])*a;Tilt.g.re(n[0],n[1],0,r);u[0]=C[0];u[1]=C[1];u[2]=0;return{rotation:ra(r,s),
ha:ta(u,q)}},Mc:function(a,b,c){this.$a();this.eb[0]=a;this.eb[1]=b;this.va=c;this.rc();this.qe(a,b,this.s,this.k,this.wd,this.Ad);sa(this.jc,this.nc)},Pc:function(a,b){this.Kb[0]=a;this.Kb[1]=b;this.va=-1},Nc:function(a,b){this.va!==-1&&(this.Jb[0]=a,this.Jb[1]=b)},Y:function(){this.va=-1},wb:function(){this.va=-1},Oc:function(a){var b=this.Te,c=this.Se,d=this.Re;this.$a();this.Da=Tilt.g.O(this.Da-a*b,c,d)},Ic:function(a){this.$a();this.mc[a]=!0},Jc:function(a){this.mc[a]=!1},qe:function(a,b,c,d,
f,g){a=(a-c*0.5)/f;b=(b-d*0.5)/f;c=0;c=a*a+b*b;c>1?(c=1/Math.sqrt(c),g[0]=a*c,g[1]=b*c,g[2]=0):(g[0]=a,g[1]=b,g[2]=Math.sqrt(1-c))},translate:function(a,b){this.Eb[0]+=a;this.Eb[1]+=b},rotate:function(a,b){this.Db[0]+=a;this.Db[1]+=b},zoom:function(a){this.Da+=a},stop:function(){this.$a();this.rc();this.va=-1},ra:function(a,b,c){this.s=a;this.k=b;this.wd=c?c:b;this.rc()},reset:function(a){var b=this.Da,c=this.nc,d=this.jd,f=this.jc,g=this.rd,h=this.kd,j=this.hd,l=this.Db,m=this.Eb;this.Ue(function(){c[0]*=
-1;c[1]*=-1;c[2]*=-1;wa(c,c,1-a);wa(d,c,1-a);wa(f,c,1-a);xa(g,a);xa(h,a);xa(j,a);l[0]*=a;l[1]*=a;m[0]*=a;m[1]*=a;this.Da*=a;Z(c)<1.0E-4&&Z(d)<1.0E-4&&Z(f)<1.0E-4&&Z(g)<0.01&&Z(h)<0.01&&Z(j)<0.01&&Z([l[0],l[1],b])<0.01&&Z([m[0],m[1],b])<0.01&&this.$a()}.bind(this),1E3/60)},Ue:function(a,b){if("undefined"===typeof this.Fb)this.Fb=window.setInterval(a,b)},$a:function(){"undefined"!==typeof this.Fb&&(window.clearInterval(this.Fb),delete this.Fb)},rc:function(){var a=this.Jb,b=this.Kb,c=this.ud,d=this.eb[0],
f=this.eb[1];a[0]=d;a[1]=f;b[0]=d;b[1]=f;c[0]=d;c[1]=f},destroy:function(){this.stop();Tilt.w(this)}};Tilt=Tilt||{};Tilt.V=function(a,b,c){Tilt.n.o("Tilt.VertexBuffer",this);this.J=this.h=M;this.da=this.Zb=0;"undefined"!==typeof a&&this.Gc(a,b,c)};Tilt.V.prototype={Gc:function(a,b,c){var d=Tilt.B;"undefined"===typeof c&&(c=a.length/b);this.J=new Float32Array(a);this.h=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,this.h);d.bufferData(d.ARRAY_BUFFER,this.J,d.STATIC_DRAW);this.Zb=b;this.da=c},destroy:function(){try{Tilt.B.deleteBuffer(this.h)}catch(a){}Tilt.w(this)}};
Tilt.jb=function(a,b){Tilt.n.o("Tilt.IndexBuffer",this);this.J=this.h=M;this.da=this.Zb=0;"undefined"!==typeof a&&this.Gc(a,b)};Tilt.jb.prototype={Gc:function(a,b){var c=Tilt.B;if("undefined"===typeof b)b=a.length;this.J=new Uint16Array(a);this.h=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.h);c.bufferData(c.ELEMENT_ARRAY_BUFFER,this.J,c.STATIC_DRAW);this.Zb=1;this.da=b},destroy:function(){try{Tilt.B.deleteBuffer(this.h)}catch(a){}Tilt.w(this)}};Tilt=Tilt||{};Tilt.B=M;Tilt.W=M;
Tilt.Cb=-1;Tilt.Gb=-1;Tilt.cb={};Tilt.Sb=function(){Tilt.w(Tilt.B);Tilt.w(Tilt.W);Tilt.w(Tilt.Cb);Tilt.w(Tilt.Gb);Tilt.w(Tilt.cb);Tilt.B=M;Tilt.W=M;Tilt.Cb=-1;Tilt.Gb=-1;Tilt.cb={};Tilt.Nd.ab=0;Tilt.wc.ab=0};Tilt=Tilt||{};Tilt.w=function(a){for(var b in a)try{"function"===typeof a[b].destroy&&a[b].destroy()}catch(c){}finally{try{a[b]=M,delete a[b]}catch(d){}}};Tilt.ba=function(a){for(var b in a)try{"function"===typeof a[b]&&(a[b]=a[b].bind(a))}catch(c){}};Tilt=Tilt||{};
Tilt.n={enabled:!1,xa:[],o:function(a,b,c,d,f,g){if(this.enabled){var h,j,l;if(c){if("undefined"===typeof d&&(d=this.$e.bind(this)),"undefined"===typeof f&&(f=this.Ye.bind(this)),"undefined"===typeof g&&(g=this.kf.bind(this)),h=b[c],"function"===typeof h)j=this.xa.length,this.xa[j]={name:(a+"."||"")+c,ob:0,mb:0,ya:0,Za:0},b[c]=function(){try{return d(j),g(b,h,arguments)}finally{f(j)}}}else for(l in b)"function"===typeof b[l]&&this.o(a,b,l,d,f,g)}},$e:function(a){if("undefined"!==typeof this.xa[a])this.xa[a].currentTime=
(new Date).getTime()},Ye:function(a){a=this.xa[a];if("undefined"!==typeof a){var b=(new Date).getTime()-a.currentTime;a.ob++;a.ya=Math.max(a.ya,b);a.mb=(a.ya+b)*0.5;a.Za+=b}},kf:function(a,b,c){return c.length===0?b.call(a):b.apply(a,c)},log:function(){var a=this.xa.slice(0),b,c,d,f;a.sort(function(a,b){return a.Za<b.Za?1:-1});for(b=0;b<a.length;b++){d=a[b];for(c=b+1;c<a.length;c++)if(f=a[c],d.name===f.name)d.ob+=f.ob,d.ya=Math.max(d.ya,f.ya),d.mb=(d.mb+f.mb)*0.5,d.Za+=f.Za,a.splice(c,1),c--;d.ob!==
0&&Tilt.G.log("function "+d.name+"\ncalls    "+d.ob+"\naverage  "+d.mb+"ms\nlongest  "+d.ya+"ms\ntotal    "+d.Za+"ms")}},reset:function(){this.xa=[]}};Tilt=Tilt||{};Tilt.Pb=function(a,b){Tilt.n.o("Tilt.Program",this);this.h=M;this.Ib=-1;this.ib=this.ua=M;this.De={};this.Ve={};arguments.length===2&&this.zf(a,b)};
Tilt.Pb.prototype={zf:function(a,b){this.h=Tilt.Nd.create(a,b);this.Ib=this.h.id;this.ua=this.h.attributes;this.ib=this.h.Ba;this.h.id=M;this.h.attributes=M;this.h.Ba=M;delete this.h.id;delete this.h.attributes;delete this.h.Ba},ed:function(){var a=this.Ib,b;this.Sb();this.cf();if(Tilt.Cb!==a&&(Tilt.Cb=a,a=Tilt.B,a.useProgram(this.h),Tilt.Gb<this.ua.length))for(b in Tilt.Gb=this.ua.length,this.ua)this.ua.hasOwnProperty(b)&&b!=="length"&&a.enableVertexAttribArray(this.ua[b])},Ha:function(a,b){var c=
Tilt.B,d=this.ua[a],f=b.Zb;c.bindBuffer(c.ARRAY_BUFFER,b.h);c.vertexAttribPointer(d,f,c.FLOAT,!1,0,0)},Ga:function(a,b){Tilt.B.uniformMatrix4fv(this.ib[a],!1,b)},xc:function(a,b){Tilt.B.uniform4fv(this.ib[a],b)},af:function(a,b){Tilt.B.uniform1f(this.ib[a],b)},bindTexture:function(a,b){var c=Tilt.B;c.bindTexture(c.TEXTURE_2D,b.h);c.uniform1i(this.ib[a],0)},cf:function(){this.Ve={}},Sb:function(){this.De={}},destroy:function(){try{Tilt.B.deleteShader(this.h)}catch(a){}Tilt.w(this)}};Tilt=Tilt||{};
Tilt.Nd={create:function(a,b){var c=this.compile(a,"x-shader/x-vertex"),d=this.compile(b,"x-shader/x-fragment");return this.link(c,d)},compile:function(a,b){var c=Tilt.B,d;if("string"!==typeof a||a.length<1)return Tilt.G.error(Tilt.T.get("compileShader.source.error")),M;if(b==="x-shader/x-vertex")d=c.createShader(c.VERTEX_SHADER);else if(b==="x-shader/x-fragment")d=c.createShader(c.FRAGMENT_SHADER);else return Tilt.G.error(Tilt.T.Ac("compileShader.type.error"),[a]),M;c.shaderSource(d,a);c.compileShader(d);
d.src=a;return!c.getShaderParameter(d,c.COMPILE_STATUS)?(c=c.getShaderInfoLog(d),Tilt.G.error(Tilt.T.Ac("compileShader.compile.error"),[c]),M):d},link:function(a,b){var c=Tilt.B,d;d=c.createProgram();c.attachShader(d,a);c.attachShader(d,b);c.linkProgram(d);if(!c.getProgramParameter(d,c.LINK_STATUS))return d=c.getProgramInfoLog(d),Tilt.G.error(Tilt.T.Ac("linkProgram.error",[d])),M;d.id=this.ab++;c=[a.src,b.src].join(" ").replace(/#.*|[(){};,]/g," ").split(" ");return this.ig(d,c)},gg:function(a,b){return Tilt.B.getAttribLocation(a,
b)},jg:function(a,b){return Tilt.B.getUniformLocation(a,b)},hg:function(a,b){if("string"===typeof b){if(b.length<1)return M;var c;return(c=this.gg(a,b))>=0?c:this.jg(a,b)}return M},ig:function(a,b){var c,d,f,g;a.attributes={};a.attributes.length=0;a.Ba={};a.Ba.length=0;for(c=0,d=b.length;c<d;c++)f=b[c],g=this.hg(a,f),"number"===typeof g&&"undefined"===typeof a.attributes[f]&&(a.attributes[f]=g,a.attributes.length++),"object"===typeof g&&g instanceof WebGLUniformLocation&&"undefined"===typeof a.Ba[f]&&
(a.Ba[f]=g,a.Ba.length++);return a},ab:0};Tilt=Tilt||{};Tilt.Fa=function(a,b){Tilt.n.o("Tilt.Texture",this);b=b||{};this.h=M;this.height=this.width=this.Ib=-1;this.loaded=!1;this.onload=b.onload;"object"===typeof a?this.ae(a,b):"string"===typeof a?this.Af(a,b):Tilt.G.error(Tilt.T.get("initTexture.source.error"))};
Tilt.Fa.prototype={ae:function(a,b){this.h=Tilt.wc.create(a,b);if("undefined"!==typeof this.h&&this.h!==M){this.Ib=this.h.id;this.width=this.h.width;this.height=this.h.height;this.loaded=!0;if("function"===typeof this.onload)this.onload();this.h.id=M;this.h.width=M;this.h.height=M;delete this.h.id;delete this.h.width;delete this.h.height}this.onload=M;delete this.onload},Af:function(a,b){var c=new Image;c.src=a;c.onload=function(){this.ae(c,b);b=c=M}.bind(this)},rg:function(a,b,c){this.width===a.width&&
this.height===a.height&&b&&c&&(c=b=0);var d=Tilt.B;d.bindTexture(d.TEXTURE_2D,this.h);d.texSubImage2D(d.TEXTURE_2D,0,b,c,d.RGBA,d.UNSIGNED_BYTE,a)},destroy:function(){try{Tilt.B.deleteTexture(this.h)}catch(a){}Tilt.w(this)}};Tilt=Tilt||{};
Tilt.wc={create:function(a,b){if(!("undefined"===typeof a||a===M)){b=b||{};if("undefined"!==typeof Tilt.cb[a.src])return Tilt.cb[a.src];var c=Tilt.B,d=Tilt.wc.Xf(a,b),f=c.getParameter(c.TEXTURE_BINDING_2D),g=a.width,h=a.height,j=c.createTexture();c.bindTexture(c.TEXTURE_2D,j);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,d);j.width=g;j.height=h;j.id=this.ab++;this.eg(b);c.bindTexture(c.TEXTURE_2D,f);"undefined"!==typeof a.src&&(Tilt.cb[a.src]=j);return j}},eg:function(a){var b=Tilt.B,
c=b.TEXTURE_MIN_FILTER,d=b.TEXTURE_MAG_FILTER,f=b.TEXTURE_WRAP_S,g=b.TEXTURE_WRAP_T,a=a||{};a.Ya&&b.bindTexture(b.TEXTURE_2D,a.Ya.Xg);"nearest"===a.he?b.texParameteri(b.TEXTURE_2D,c,b.NEAREST):"linear"===a.he&&a.ie?b.texParameteri(b.TEXTURE_2D,c,b.LINEAR_MIPMAP_LINEAR):b.texParameteri(b.TEXTURE_2D,c,b.LINEAR);"nearest"===a.ee?b.texParameteri(b.TEXTURE_2D,d,b.NEAREST):"linear"===a.ee&&a.ie?b.texParameteri(b.TEXTURE_2D,d,b.LINEAR_MIPMAP_LINEAR):b.texParameteri(b.TEXTURE_2D,d,b.LINEAR);"repeat"===a.ih?
b.texParameteri(b.TEXTURE_2D,f,b.REPEAT):b.texParameteri(b.TEXTURE_2D,f,b.CLAMP_TO_EDGE);"repeat"===a.jh?b.texParameteri(b.TEXTURE_2D,g,b.REPEAT):b.texParameteri(b.TEXTURE_2D,g,b.CLAMP_TO_EDGE);a.ie&&b.generateMipmap(b.TEXTURE_2D)},Xf:function(a,b){var b=b||{},c=(a.src||"").indexOf("chrome://"),d=Tilt.g.be(a.width),f=Tilt.g.be(a.height);if(b.Pf||d&&f&&c===-1)try{return a}finally{b=a=M}c=Tilt.H.Qa(Tilt.g.je(a.width),Tilt.g.je(a.height));d=c.getContext("2d");if(b.fill)d.fillStyle=b.fill,d.fillRect(0,
0,c.width,c.height);d.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);if(b.stroke)d.strokeStyle=b.stroke,d.lineWidth=b.Wa,d.strokeRect(0,0,c.width,c.height);return c},eh:function(a){Tilt.B.pixelStorei(Tilt.B.UNPACK_FLIP_Y_WEBGL,a)},ab:0};
function ya(a){var b={indent_size:2,indent_char:" ",max_char:78,brace_style:"collapse"},c,d,f,b=b||{};c=b.ub||2;d=b.Zd||" ";f=b.Rb||"collapse";b=new function(){this.K=0;this.fh="";this.Ja="CONTENT";this.A={parent:"parent1",Tg:1,Sg:""};this.Aa=this.de=this.Df=this.fc=this.ga="";this.U={gc:"\n\r\t ".split(""),lg:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed".split(","),lf:"head,body,/html".split(","),Pa:function(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;
return!1}};this.qf=function(){for(var a="",b=[],c=!1;this.input.charAt(this.K)!=="<";){if(this.K>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.K);this.K++;this.P++;if(this.U.Pa(a,this.U.gc))b.length&&(c=!0),this.P--;else{if(c){if(this.P>=this.fe){b.push("\n");for(c=0;c<this.ja;c++)b.push(this.Xb);this.P=0}else b.push(" "),this.P++;c=!1}b.push(a)}}return b.length?b.join(""):""};this.rf=function(){var a="",b=[],a=/<\/script>/igm;a.lastIndex=this.K;for(var c=(a=
a.exec(this.input))?a.index:this.input.length;this.K<c;){if(this.K>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.K);this.K++;b.push(a)}return b.length?b.join(""):""};this.Wc=function(a){this.A[a+"count"]?this.A[a+"count"]++:this.A[a+"count"]=1;this.A[a+this.A[a+"count"]]=this.ja;this.A[a+this.A[a+"count"]+"parent"]=this.A.parent;this.A.parent=a+this.A[a+"count"]};this.Yf=function(a){if(this.A[a+"count"]){for(var b=this.A.parent;b;){if(a+this.A[a+"count"]===b)break;
b=this.A[b+"parent"]}if(b)this.ja=this.A[a+this.A[a+"count"]],this.A.parent=this.A[b+"parent"];delete this.A[a+this.A[a+"count"]+"parent"];delete this.A[a+this.A[a+"count"]];this.A[a+"count"]==1?delete this.A[a+"count"]:this.A[a+"count"]--}};this.sf=function(){var a="",b=[],c=!1;do{if(this.K>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.K);this.K++;this.P++;if(this.U.Pa(a,this.U.gc))c=!0,this.P--;else{if(a==="'"||a==='"')if(!b[1]||b[1]!=="!")a+=this.sb(a),c=
!0;a==="="&&(c=!1);if(b.length&&b[b.length-1]!=="="&&a!==">"&&c)this.P>=this.fe?(this.Va(!1,b),this.P=0):(b.push(" "),this.P++),c=!1;b.push(a)}}while(a!==">");a=b.join("");c=a.substring(1,a.indexOf(" ")!=-1?a.indexOf(" "):a.indexOf(">")).toLowerCase();a.charAt(a.length-2)==="/"||this.U.Pa(c,this.U.lg)?this.ga="SINGLE":c==="script"?(this.Wc(c),this.ga="SCRIPT"):c==="style"?(this.Wc(c),this.ga="STYLE"):c==="a"?(a=this.sb("</a>",a),b.push(a),this.ga="SINGLE"):c.charAt(0)==="!"?c.indexOf("[if")!=-1?(a.indexOf("!IE")!=
-1&&(a=this.sb("--\>",a),b.push(a)),this.ga="START"):c.indexOf("[endif")!=-1?(this.ga="END",this.qg()):(a=c.indexOf("[cdata[")!=-1?this.sb("]]\>",a):this.sb("--\>",a),b.push(a),this.ga="SINGLE"):(c.charAt(0)==="/"?(this.Yf(c.substring(1)),this.ga="END"):(this.Wc(c),this.ga="START"),this.U.Pa(c,this.U.lf)&&this.Va(!0,this.za));return b.join("")};this.sb=function(a,b){if(b&&b.indexOf(a)!=-1)return"";var c="",d="",f=!0;do{if(this.K>=this.input.length)break;c=this.input.charAt(this.K);this.K++;if(this.U.Pa(c,
this.U.gc)){if(!f){this.P--;continue}if(c==="\n"||c==="\r"){d+="\n";for(c=0;c<this.ja;c++)d+=this.Xb;f=!1;this.P=0;continue}}d+=c;this.P++;f=!0}while(d.indexOf(a)==-1);return d};this.tf=function(){var a;if(this.de==="TK_TAG_SCRIPT"){a=this.rf();if(typeof a!=="string")return a;a=za(a,{indent_size:this.ub,indent_char:this.$d,indent_level:this.ja,brace_style:this.Rb});return[a.replace(/^[\t ]+/,""),"TK_CONTENT"]}if(this.Ja==="CONTENT")return a=this.qf(),typeof a!=="string"?a:[a,"TK_CONTENT"];if(this.Ja===
"TAG")return a=this.sf(),typeof a!=="string"?a:[a,"TK_TAG_"+this.ga]};this.Sf=function(a,b,c,d){this.input=a||"";this.za=[];this.$d=b;this.Xb="";this.ub=c;this.Rb=d;this.ja=0;this.fe=80;for(a=this.P=0;a<this.ub;a++)this.Xb+=this.$d;this.Va=function(a,b){this.P=0;if(b&&b.length){if(!a)for(;this.U.Pa(b[b.length-1],this.U.gc);)b.pop();b.push("\n");for(var c=0;c<this.ja;c++)b.push(this.Xb)}};this.cc=function(a){this.za.push(a)};this.xf=function(){this.ja++};this.qg=function(){this.ja>0&&this.ja--}};return this};
for(b.Sf(a,d,c,f);;){a=b.tf();b.Aa=a[0];b.fc=a[1];if(b.fc==="TK_EOF")break;switch(b.fc){case "TK_TAG_START":case "TK_TAG_SCRIPT":case "TK_TAG_STYLE":b.Va(!1,b.za);b.cc(b.Aa);b.xf();b.Ja="CONTENT";break;case "TK_TAG_END":b.Va(!0,b.za);b.cc(b.Aa);b.Ja="CONTENT";break;case "TK_TAG_SINGLE":b.Va(!1,b.za);b.cc(b.Aa);b.Ja="CONTENT";break;case "TK_CONTENT":b.Aa!==""&&(b.Va(!1,b.za),b.cc(b.Aa)),b.Ja="TAG"}b.de=b.fc;b.Df=b.Aa}return b.za.join("")}
function za(a,b){function c(a){for(a=typeof a==="undefined"?!1:a;s.length&&(s[s.length-1]===" "||s[s.length-1]===E||s[s.length-1]===aa||a&&(s[s.length-1]==="\n"||s[s.length-1]==="\r"));)s.pop()}function d(a){return a.replace(/^\s\s*|\s\s*$/,"")}function f(){var a=N;N=!1;g();N=a}function g(a){n.Ub=!1;if(!N||!p(n.mode))if(a=typeof a==="undefined"?!0:a,n.Na=!1,c(),s.length){if(s[s.length-1]!=="\n"||!a)Q=!0,s.push("\n");aa&&s.push(aa);for(a=0;a<n.ka;a+=1)s.push(E);n.$&&n.sa&&(ca===" "?s.push("    "):
s.push(E))}}function h(){if(n.Ub)n.Ub=!1;else{var a=" ";s.length&&(a=s[s.length-1]);a!==" "&&a!=="\n"&&a!==E&&s.push(" ")}}function j(){Q=!1;n.Ub=!1;s.push(v)}function l(){s.length&&s[s.length-1]===E&&s.pop()}function m(a){n&&C.push(n);n={Rf:n?n.mode:"BLOCK",mode:a,$:!1,ta:!1,sa:!1,Fc:!1,Na:!1,Ec:!1,Ub:!1,Yb:-1,ka:n?n.ka+(n.$&&n.sa?1:0):0,dd:0}}function p(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"}function k(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"||a==="(EXPRESSION)"}
function w(){L=n.mode==="DO_BLOCK";C.length>0&&(n=C.pop())}function x(a){for(var b=0;b<a.length;b++)if(d(a[b])[0]!="*")return!1;return!0}function t(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function A(){O=0;if(o>=F)return["","TK_EOF"];V=!1;var a=r.charAt(o);o+=1;if(N&&p(n.mode)){for(var b=0;t(a,G);){a==="\n"?(c(),s.push("\n"),Q=!0,b=0):a==="\t"?b+=4:a!=="\r"&&(b+=1);if(o>=F)return["","TK_EOF"];a=r.charAt(o);o+=1}if(n.Yb===-1)n.Yb=b;if(Q){var f;for(f=0;f<n.ka+1;f+=1)s.push(E);
if(n.Yb!==-1)for(f=0;f<b-n.Yb;f++)s.push(" ")}}else{for(;t(a,G);){a==="\n"&&(O+=ja?O<=ja?1:0:1);if(o>=F)return["","TK_EOF"];a=r.charAt(o);o+=1}if(ea&&O>1)for(f=0;f<O;f+=1)g(f===0),Q=!0;V=O>0}if(t(a,I)){if(o<F)for(;t(r.charAt(o),I);)if(a+=r.charAt(o),o+=1,o===F)break;if(o!==F&&a.match(/^[0-9]+[Ee]$/)&&(r.charAt(o)==="-"||r.charAt(o)==="+"))return b=r.charAt(o),o+=1,f=A(),a+=b+f[0],[a,"TK_WORD"];if(a==="in")return[a,"TK_OPERATOR"];V&&u!=="TK_OPERATOR"&&u!=="TK_EQUALS"&&!n.Na&&(ea||q!=="var")&&g();return[a,
"TK_WORD"]}if(a==="("||a==="[")return[a,"TK_START_EXPR"];if(a===")"||a==="]")return[a,"TK_END_EXPR"];if(a==="{")return[a,"TK_START_BLOCK"];if(a==="}")return[a,"TK_END_BLOCK"];if(a===";")return[a,"TK_SEMICOLON"];if(a==="/"){b="";f=!0;if(r.charAt(o)==="*"){o+=1;if(o<F)for(;!(r.charAt(o)==="*"&&r.charAt(o+1)&&r.charAt(o+1)==="/")&&o<F;){a=r.charAt(o);b+=a;if(a==="\r"||a==="\n")f=!1;o+=1;if(o>=F)break}o+=2;return f?["/*"+b+"*/","TK_INLINE_COMMENT"]:["/*"+b+"*/","TK_BLOCK_COMMENT"]}if(r.charAt(o)==="/"){for(b=
a;r.charAt(o)!=="\r"&&r.charAt(o)!=="\n";)if(b+=r.charAt(o),o+=1,o>=F)break;o+=1;V&&g();return[b,"TK_COMMENT"]}}if(a==="'"||a==='"'||a==="/"&&(u==="TK_WORD"&&t(q,["return","do"])||u==="TK_COMMENT"||u==="TK_START_EXPR"||u==="TK_START_BLOCK"||u==="TK_END_BLOCK"||u==="TK_OPERATOR"||u==="TK_EQUALS"||u==="TK_EOF"||u==="TK_SEMICOLON")){b=a;f=!1;var h=a;if(o<F)if(b==="/")for(a=!1;f||a||r.charAt(o)!==b;){if(h+=r.charAt(o),f?f=!1:(f=r.charAt(o)==="\\",r.charAt(o)==="["?a=!0:r.charAt(o)==="]"&&(a=!1)),o+=1,
o>=F)return[h,"TK_STRING"]}else for(;f||r.charAt(o)!==b;)if(h+=r.charAt(o),f=f?!1:r.charAt(o)==="\\",o+=1,o>=F)return[h,"TK_STRING"];o+=1;h+=b;if(b==="/")for(;o<F&&t(r.charAt(o),I);)h+=r.charAt(o),o+=1;return[h,"TK_STRING"]}if(a==="#"){if(s.length===0&&r.charAt(o)==="!"){for(h=a;o<F&&a!="\n";)a=r.charAt(o),h+=a,o+=1;s.push(d(h)+"\n");g();return A()}b="#";if(o<F&&t(r.charAt(o),J)){do a=r.charAt(o),b+=a,o+=1;while(o<F&&a!=="#"&&a!=="=");a!=="#"&&(r.charAt(o)==="["&&r.charAt(o+1)==="]"?(b+="[]",o+=2):
r.charAt(o)==="{"&&r.charAt(o+1)==="}"&&(b+="{}",o+=2));return[b,"TK_WORD"]}}if(a==="<"&&r.substring(o-1,o+3)==="<\!--")return o+=3,n.Fc=!0,["<\!--","TK_COMMENT"];if(a==="-"&&n.Fc&&r.substring(o-1,o+2)==="--\>")return n.Fc=!1,o+=2,V&&g(),["--\>","TK_COMMENT"];if(t(a,K)){for(;o<F&&t(a+r.charAt(o),K);)if(a+=r.charAt(o),o+=1,o>=F)break;return a==="="?[a,"TK_EQUALS"]:[a,"TK_OPERATOR"]}return[a,"TK_UNKNOWN"]}var r,s,v,u,q,z,B,n,C,E,G,I,K,o,H,J,y,D,L,V,Q,O,aa="",b=b?b:{},W;if(b.mg!==i&&b.Hc===i)b.Hc=b.mg;
b.bf!==i&&(W=b.bf?"expand":"collapse");W=b.Rb?b.Rb:W?W:"collapse";B=b.ub?b.ub:2;var ca=b.Zd?b.Zd:" ",ea=typeof b.Qf==="undefined"?!0:b.Qf,ja=typeof b.Ef==="undefined"?!1:b.Ef,Y=b.Hc==="undefined"?!1:b.Hc,N=typeof b.Cf==="undefined"?!1:b.Cf;Q=!1;var F=a.length;for(E="";B>0;)E+=ca,B-=1;for(;a&&(a[0]===" "||a[0]==="\t");)aa+=a[0],a=a.substring(1);r=a;B="";u="TK_START_EXPR";z=q="";s=[];L=!1;G="\n\r\t ".split("");I="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");J="0123456789".split("");
K="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(" ");H="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(",");C=[];m("BLOCK");for(o=0;;){D=A();v=D[0];D=D[1];if(D==="TK_EOF")break;switch(D){case "TK_START_EXPR":if(v==="["){if(u==="TK_WORD"||q===")"){t(q,H)&&h();m("(EXPRESSION)");j();break}if(n.mode==="[EXPRESSION]"||n.mode==="[INDENTED-EXPRESSION]")if(z==="]"&&q===","){if(n.mode==="[EXPRESSION]")n.mode=
"[INDENTED-EXPRESSION]",N||(n.ka+=1);m("[EXPRESSION]");N||g()}else if(q==="["){if(n.mode==="[EXPRESSION]")n.mode="[INDENTED-EXPRESSION]",N||(n.ka+=1);m("[EXPRESSION]");N||g()}else m("[EXPRESSION]");else m("[EXPRESSION]")}else m("(EXPRESSION)");q===";"||u==="TK_START_BLOCK"?g():u==="TK_END_EXPR"||u==="TK_START_EXPR"||u==="TK_END_BLOCK"||q==="."||(u!=="TK_WORD"&&u!=="TK_OPERATOR"?h():B==="function"||B==="typeof"?Y&&h():(t(q,H)||q==="catch")&&h());j();break;case "TK_END_EXPR":if(v==="]")if(N){if(q===
"}"){l();j();w();break}}else if(n.mode==="[INDENTED-EXPRESSION]"&&q==="]"){w();g();j();break}w();j();break;case "TK_START_BLOCK":B==="do"?m("DO_BLOCK"):m("BLOCK");W=="expand"?(u!=="TK_OPERATOR"&&(q==="return"||q==="="?h():g(!0)),j(),n.ka+=1):(u!=="TK_OPERATOR"&&u!=="TK_START_EXPR"?u==="TK_START_BLOCK"?g():h():p(n.Rf)&&q===","&&(z==="}"?h():g()),n.ka+=1,j());break;case "TK_END_BLOCK":w();W=="expand"?q!=="{"&&g():u==="TK_START_BLOCK"?Q?l():c():p(n.mode)&&N?(N=!1,g(),N=!0):g();j();break;case "TK_WORD":if(L){h();
j();h();L=!1;break}if(v==="function"){if(n.$)n.sa=!0;if((Q||q===";")&&q!=="{"){O=Q?O:0;ea||(O=1);for(y=0;y<2-O;y++)g(!1)}}if(v==="case"||v==="default"){q===":"?l():(n.ka--,g(),n.ka++);j();n.Ec=!0;break}y="NONE";u==="TK_END_BLOCK"?t(v.toLowerCase(),["else","catch","finally"])?W=="expand"||W=="end-expand"?y="NEWLINE":(y="SPACE",h()):y="NEWLINE":u==="TK_SEMICOLON"&&(n.mode==="BLOCK"||n.mode==="DO_BLOCK")?y="NEWLINE":u==="TK_SEMICOLON"&&k(n.mode)?y="SPACE":u==="TK_STRING"?y="NEWLINE":u==="TK_WORD"?(q===
"else"&&c(!0),y="SPACE"):u==="TK_START_BLOCK"?y="NEWLINE":u==="TK_END_EXPR"&&(h(),y="NEWLINE");t(v,H)&&q!==")"&&(y=q=="else"?"SPACE":"NEWLINE");if(n.Na&&u==="TK_END_EXPR")n.Na=!1;if(t(v.toLowerCase(),["else","catch","finally"]))u!=="TK_END_BLOCK"||W=="expand"||W=="end-expand"?g():(c(!0),h());else if(y==="NEWLINE"){if(!((u==="TK_START_EXPR"||q==="="||q===",")&&v==="function"))if(v==="function"&&q=="new")h();else if(q==="return"||q==="throw")h();else if(u!=="TK_END_EXPR"){if((u!=="TK_START_EXPR"||v!==
"var")&&q!==":")v==="if"&&B==="else"&&q!=="{"?h():(n.$=!1,n.sa=!1,g())}else if(t(v,H)&&q!=")")n.$=!1,n.sa=!1,g()}else p(n.mode)&&q===","&&z==="}"?g():y==="SPACE"&&h();j();B=v;if(v==="var")n.$=!0,n.sa=!1,n.ta=!1;if(v==="if")n.Na=!0;if(v==="else")n.Na=!1;break;case "TK_SEMICOLON":j();n.$=!1;n.sa=!1;if(n.mode=="OBJECT")n.mode="BLOCK";break;case "TK_STRING":u==="TK_START_BLOCK"||u==="TK_END_BLOCK"||u==="TK_SEMICOLON"?g():u==="TK_WORD"&&h();j();break;case "TK_EQUALS":if(n.$)n.ta=!0;h();j();h();break;case "TK_OPERATOR":y=
z=!0;if(n.$&&v===","&&k(n.mode))n.ta=!1;if(n.$&&v===",")if(n.ta){j();n.sa=!0;n.ta=!1;g();break}else n.ta=!1;if(q==="return"||q==="throw"){h();j();break}if(v===":"&&n.Ec){j();g();n.Ec=!1;break}if(v==="::"){j();break}if(v===","){n.$?n.ta?(j(),g(),n.ta=!1):(j(),h()):u==="TK_END_BLOCK"&&n.mode!=="(EXPRESSION)"?(j(),n.mode==="OBJECT"&&q==="}"?g():h()):n.mode==="OBJECT"?(j(),g()):(j(),h());break}else t(v,["--","++","!"])||t(v,["-","+"])&&(t(u,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||
t(q,H))?(y=z=!1,q===";"&&k(n.mode)&&(z=!0),u==="TK_WORD"&&t(q,H)&&(z=!0),n.mode==="BLOCK"&&(q==="{"||q===";")&&g()):v==="."?z=!1:v===":"?n.dd==0?(n.mode="OBJECT",z=!1):n.dd-=1:v==="?"&&(n.dd+=1);z&&h();j();y&&h();break;case "TK_BLOCK_COMMENT":z=v.split(/\x0a|\x0d\x0a/);if(x(z.slice(1))){g();s.push(z[0]);for(y=1;y<z.length;y++)g(),s.push(" "),s.push(d(z[y]))}else{z.length>1?(g(),c()):h();for(y=0;y<z.length;y++)s.push(z[y]),s.push("\n")}g();break;case "TK_INLINE_COMMENT":h();j();k(n.mode)?h():f();break;
case "TK_COMMENT":V?g():h();j();f();break;case "TK_UNKNOWN":(q==="return"||q==="throw")&&h(),j()}z=q;u=D;q=v}return aa+s.join("").replace(/[\n ]+$/,"")}if(typeof exports!=="undefined")exports.Kg=za;var Aa;Aa=typeof Float32Array!="undefined"?Float32Array:typeof WebGLFloatArray!="undefined"?WebGLFloatArray:Array;function X(a){var b=new Aa(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}function Ba(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2]}
function ta(a,b,c){if(!c||a==c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c}function Ca(a,b,c){if(!c||a==c)return a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a;c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c}function xa(a,b){a[0]*=b;a[1]*=b;a[2]*=b;return a}function pa(a,b,c){c||(c=a);var d=a[0],f=a[1],a=a[2],g=b[0],h=b[1],b=b[2];c[0]=f*b-a*h;c[1]=a*g-d*b;c[2]=d*h-f*g}function Z(a){var b=a[0],c=a[1],a=a[2];return Math.sqrt(b*b+c*c+a*a)}
function qa(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function $(a){var b=new Aa(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}function Da(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}
function Ea(a,b,c){c||(c=a);var d=a[0],f=a[1],g=a[2],h=a[3],j=a[4],l=a[5],m=a[6],p=a[7],k=a[8],w=a[9],x=a[10],t=a[11],A=a[12],r=a[13],s=a[14],a=a[15],v=b[0],u=b[1],q=b[2],z=b[3],B=b[4],n=b[5],C=b[6],E=b[7],G=b[8],I=b[9],K=b[10],o=b[11],H=b[12],J=b[13],y=b[14],b=b[15];c[0]=v*d+u*j+q*k+z*A;c[1]=v*f+u*l+q*w+z*r;c[2]=v*g+u*m+q*x+z*s;c[3]=v*h+u*p+q*t+z*a;c[4]=B*d+n*j+C*k+E*A;c[5]=B*f+n*l+C*w+E*r;c[6]=B*g+n*m+C*x+E*s;c[7]=B*h+n*p+C*t+E*a;c[8]=G*d+I*j+K*k+o*A;c[9]=G*f+I*l+K*w+o*r;c[10]=G*g+I*m+K*x+o*s;c[11]=
G*h+I*p+K*t+o*a;c[12]=H*d+J*j+y*k+b*A;c[13]=H*f+J*l+y*w+b*r;c[14]=H*g+J*m+y*x+b*s;c[15]=H*h+J*p+y*t+b*a}function Fa(a,b,c){c||(c=b);var d=b[0],f=b[1],g=b[2],b=b[3];c[0]=a[0]*d+a[4]*f+a[8]*g+a[12]*b;c[1]=a[1]*d+a[5]*f+a[9]*g+a[13]*b;c[2]=a[2]*d+a[6]*f+a[10]*g+a[14]*b;c[3]=a[3]*d+a[7]*f+a[11]*g+a[15]*b;return c}function Ha(a,b){var c=b[0],d=b[1],f=b[2];a[12]=a[0]*c+a[4]*d+a[8]*f+a[12];a[13]=a[1]*c+a[5]*d+a[9]*f+a[13];a[14]=a[2]*c+a[6]*d+a[10]*f+a[14];a[15]=a[3]*c+a[7]*d+a[11]*f+a[15]}
function oa(a){var b=new Aa(4);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]);return b}function sa(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3]}function ra(a,b,c){c||(c=a);var d=a[0],f=a[1],g=a[2],a=a[3],h=b[0],j=b[1],l=b[2],b=b[3];c[0]=d*b+a*h+f*l-g*j;c[1]=f*b+a*j+g*h-d*l;c[2]=g*b+a*l+d*j-f*h;c[3]=a*b-d*h-f*j-g*l;return c}
function Ia(a){var b;b||(b=$());var c=a[0],d=a[1],f=a[2],g=a[3],h=c+c,j=d+d,l=f+f,a=c*h,m=c*j;c*=l;var p=d*j;d*=l;f*=l;h*=g;j*=g;g*=l;b[0]=1-(p+f);b[1]=m-g;b[2]=c+j;b[3]=0;b[4]=m+g;b[5]=1-(a+f);b[6]=d-h;b[7]=0;b[8]=c-j;b[9]=d+h;b[10]=1-(a+p);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}
function wa(a,b,c){var d;d||(d=a);var f=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];if(Math.abs(f)>=1)d!=a&&(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3]);else{var g=Math.acos(f),h=Math.sqrt(1-f*f);Math.abs(h)<0.0010?(d[0]=a[0]*0.5+b[0]*0.5,d[1]=a[1]*0.5+b[1]*0.5,d[2]=a[2]*0.5+b[2]*0.5,d[3]=a[3]*0.5+b[3]*0.5):(f=Math.sin((1-c)*g)/h,c=Math.sin(c*g)/h,d[0]=a[0]*f+b[0]*c,d[1]=a[1]*f+b[1]*c,d[2]=a[2]*f+b[2]*c,d[3]=a[3]*f+b[3]*c)}}Tilt=Tilt||{};
Tilt.Ld=function(a,b,c){Tilt.n.o("Tilt.Cube",this);a=a||1;b=b||1;c=c||1;this.M=new Tilt.V([-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,0.5*a,0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,0.5*a,-0.5*b,-0.5*c,0.5*a,-0.5*b,0.5*c,-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*
a,-0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,-0.5*c],3);this.Xa=new Tilt.V([0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],2);this.ca=new Tilt.jb([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23])};Tilt.Ld.prototype={destroy:function(){Tilt.w(this)}};Tilt=Tilt||{};
Tilt.Md=function(a,b,c){Tilt.n.o("Tilt.CubeWireframe",this);a=a||1;b=b||1;c=c||1;this.M=new Tilt.V([-0.5*a,-0.5*b,0.5*c,0.5*a,-0.5*b,0.5*c,0.5*a,0.5*b,0.5*c,-0.5*a,0.5*b,0.5*c,0.5*a,-0.5*b,-0.5*c,-0.5*a,-0.5*b,-0.5*c,-0.5*a,0.5*b,-0.5*c,0.5*a,0.5*b,-0.5*c],3);this.ca=new Tilt.jb([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,5,1,4,2,7,3,6])};Tilt.Md.prototype={destroy:function(){Tilt.w(this)}};Tilt=Tilt||{};
Tilt.Od=function(){Tilt.n.o("Tilt.Rectangle",this);this.M=new Tilt.V([0,0,1,0,0,1,1,1],2);this.Xa=new Tilt.V([0,0,1,0,0,1,1,1],2)};Tilt.Od.prototype={destroy:function(){Tilt.w(this)}};Tilt=Tilt||{};Tilt.Pd=function(){Tilt.n.o("Tilt.RectangleWireframe",this);this.M=new Tilt.V([0,0,1,0,1,1,0,1],2)};Tilt.Pd.prototype={destroy:function(){Tilt.w(this)}};Tilt=Tilt||{};
Tilt.Ob=function(a){Tilt.n.o("Tilt.Mesh",this);for(var b in a)this[b]!=="draw"&&(this[b]=a[b]);if("undefined"===typeof this.color)this.color=[1,1,1,1];if("undefined"===typeof this.Tb)this.Tb=Tilt.W.TRIANGLES;if("function"===typeof a.D)this.D=a.D};Tilt.Ob.prototype={D:function(){var a=Tilt.W,b=this.M,c=this.Xa,d=this.ca,f=this.color,g=this.Ya,h=this.Tb;g?a.Be(b,c,f,g):a.Ab(b,f);d?a.Xd(h,d):a.Ka(h,b.da)},destroy:function(){Tilt.w(this)}};Tilt=Tilt||{};
Tilt.Ob.prototype.save=function(a,b){var c=[],d=[],f=this.M.J,g=this.Xa.J,h=this.ca.J,j,l;c.push("mtllib "+b+".mtl","usemtl webpage");d.push("newmtl webpage","illum 2","Ka 1.000 1.000 1.000","Kd 1.000 1.000 1.000","Ks 0.000 0.000 0.000","map_Ka "+b+".png","map_Kd "+b+".png","map_Ks "+b+".png");for(j=0,l=f.length;j<l;j+=3)c.push("v "+f[j]/100+" "+f[j+1]/-100+" "+f[j+2]/100);for(j=0,l=g.length;j<l;j+=2)c.push("vt "+g[j]+" "+(1-g[j+1]));for(j=0,l=h.length;j<l;j+=3)c.push("f "+(h[j]+1)+"/"+(h[j]+1)+" "+
(h[j+1]+1)+"/"+(h[j+1]+1)+" "+(h[j+2]+1)+"/"+(h[j+2]+1));f=Tilt.pa.separator;Tilt.pa.save(c.join("\n"),a+f+b+".obj");Tilt.pa.save(d.join("\n"),a+f+b+".mtl")};Tilt=Tilt||{};
Tilt.vc=function(a,b){Tilt.n.o("Tilt.Renderer",this);b=b||{};this.canvas=a;this.t=this.Vd(a);Tilt.Sb();Tilt.B=this.t;Tilt.W=this;if("undefined"!==typeof this.t&&this.t!==M){if("function"===typeof b.onsuccess)b.onsuccess();this.TRIANGLES=this.t.TRIANGLES;this.TRIANGLE_STRIP=this.t.TRIANGLE_STRIP;this.TRIANGLE_FAN=this.t.TRIANGLE_FAN;this.LINES=this.t.LINES;this.LINE_STRIP=this.t.LINE_STRIP;this.LINE_LOOP=this.t.LINE_LOOP;this.POINTS=this.t.POINTS;this.COLOR_BUFFER_BIT=this.t.COLOR_BUFFER_BIT;this.DEPTH_BUFFER_BIT=
this.t.DEPTH_BUFFER_BIT;this.STENCIL_BUFFER_BIT=this.t.STENCIL_BUFFER_BIT;this.t.clearColor(0,0,0,1);this.t.clearDepth(1)}else if(Tilt.G.log(Tilt.T.get("initWebGL.error")),"function"===typeof b.Ta){b.Ta();return}this.oc=0;this.kc=M;this.qb=this.mf=this.Wb=this.elapsedTime=0;this.width=a.width;this.height=a.height;this.Rc=[];this.I=Da($());this.ea=Da($());this.Ee=[0,0,0,0];this.Dd=[1,1,1,1];this.lc=[1,1,1,1];this.Mb=[0,0,0,1];this.Bd=1;this.df=new Tilt.Pb(Tilt.aa.Jd.Bb,Tilt.aa.Jd.rb);this.pg=new Tilt.Pb(Tilt.aa.Fa.Bb,
Tilt.aa.Fa.rb);this.qc=new Tilt.Od;this.Pe=new Tilt.Pd;this.yg=new Tilt.Ld;this.zg=new Tilt.Md;this.origin();this.Tc();this.Wd()};
Tilt.vc.prototype={clear:function(a,b,c,d){var f=this.Ee,g=this.t;if(f[0]!==a||f[1]!==b||f[2]!==c||f[3]!==d)f[0]=a,f[1]=b,f[2]=c,f[3]=d,g.clearColor(a,b,c,d),a*=255,b*=255,c*=255,d*=255,this.canvas.setAttribute("style",["background: rgba(",a,", ",b,", ",c,", ",d,"); width: 100%; height: 100%;"].join(""));g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT)},background:function(a){a="string"===typeof a?Tilt.g.Ma(a):"undefined"===typeof a?[0,0,0,1]:"number"===typeof a?[a/255,a/255,a/255,1]:[a[0]/255,a[1]/
255,a[2]/255,a[3]/255];this.clear(a[0],a[1],a[2],a[3])},Tc:function(){var a=this.width,b=this.height,c=a/2,d=b/2,f=d/Math.tan(Tilt.g.Uf(45)/2),g=f/10,h=g*Math.tan(45*Math.PI/360),a=h*(a/b),b=-a,j=-h*-1;h*=-1;var l=f*10,m=this.ea;m||(m=$());var p=a-b,k=h-j,w=l-g;m[0]=g*2/p;m[1]=0;m[2]=0;m[3]=0;m[4]=0;m[5]=g*2/k;m[6]=0;m[7]=0;m[8]=(a+b)/p;m[9]=(h+j)/k;m[10]=-(l+g)/w;m[11]=-1;m[12]=0;m[13]=0;m[14]=-(l*g*2)/w;m[15]=0;Ha(this.ea,[-c,-d,-f]);Da(this.I);this.qa(!0)},Jf:function(){var a=this.width,b=this.height,
c=this.ea;c||(c=$());var d=a-0,f=0-b;c[0]=2/d;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2/f;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=-1.0E-6;c[11]=0;c[12]=-(0+a)/d;c[13]=-(0+b)/f;c[14]=0;c[15]=1;Ha(this.ea,[0,0,-999999]);Da(this.I);this.qa(!1)},Vc:function(){this.Rc.push($(this.I))},Uc:function(){if(this.Rc.length>0)this.I=this.Rc.pop()},origin:function(){Da(this.I)},transform:function(a){Ea(this.I,a)},translate:function(a,b,c){Ha(this.I,[a,b,c||0])},rotate:function(a,b,c,d){var f=this.I,d=[b,c,d],g,b=d[0],c=d[1],
d=d[2],h=Math.sqrt(b*b+c*c+d*d);if(h){h!=1&&(h=1/h,b*=h,c*=h,d*=h);var j=Math.sin(a),l=Math.cos(a),m=1-l,a=f[0],h=f[1],p=f[2],k=f[3],w=f[4],x=f[5],t=f[6],A=f[7],r=f[8],s=f[9],v=f[10],u=f[11],q=b*b*m+l,z=c*b*m+d*j,B=d*b*m-c*j,n=b*c*m-d*j,C=c*c*m+l,E=d*c*m+b*j,G=b*d*m+c*j,b=c*d*m-b*j,c=d*d*m+l;g?f!=g&&(g[12]=f[12],g[13]=f[13],g[14]=f[14],g[15]=f[15]):g=f;g[0]=a*q+w*z+r*B;g[1]=h*q+x*z+s*B;g[2]=p*q+t*z+v*B;g[3]=k*q+A*z+u*B;g[4]=a*n+w*C+r*E;g[5]=h*n+x*C+s*E;g[6]=p*n+t*C+v*E;g[7]=k*n+A*C+u*E;g[8]=a*G+w*
b+r*c;g[9]=h*G+x*b+s*c;g[10]=p*G+t*b+v*c;g[11]=k*G+A*b+u*c}},scale:function(a,b,c){var d=this.I,c=[a,b,c||0],a=c[0],b=c[1],c=c[2];d[0]*=a;d[1]*=a;d[2]*=a;d[3]*=a;d[4]*=b;d[5]*=b;d[6]*=b;d[7]*=b;d[8]*=c;d[9]*=c;d[10]*=c;d[11]*=c},ma:function(a){var a=Tilt.g.Ma(a),b=this.Dd;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3]},fill:function(a){var a=Tilt.g.Ma(a),b=this.lc;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3]},stroke:function(a){var a=Tilt.g.Ma(a),b=this.Mb;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3]},Hf:function(){var a=
this.Mb;a[0]=0;a[1]=0;a[2]=0;a[3]=0},Wa:function(a){if(this.Bd!==a)this.Bd=a,this.t.lineWidth(a)},Td:function(a){var b=this.t;"alpha"===a?(b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA)):"add"===a||"additive"===a?(b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE)):b.disable(b.BLEND)},qa:function(a){var b=this.t;a?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)},ng:function(a){var b=this.t;a?b.enable(b.STENCIL_TEST):b.disable(b.STENCIL_TEST)},Wd:function(){this.ma("#fff");this.fill("#fff");
this.stroke("#000");this.Wa(1);this.qa(!0);this.ng(!1);this.Td("alpha")},Ab:function(a,b){var c=this.df;c.ed();c.Ha("vertexPosition",a);c.Ga("mvMatrix",this.I);c.Ga("projMatrix",this.ea);c.xc("color",b)},Be:function(a,b,c,d){var f=this.pg;f.ed();f.Ha("vertexPosition",a);f.Ha("vertexTexCoord",b);f.Ga("mvMatrix",this.I);f.Ga("projMatrix",this.ea);f.xc("color",c);f.bindTexture("sampler",d)},Tf:function(a,b,c,d){var f=this.lc,g=this.Mb,a=new Tilt.V([a[0],a[1],a[2]||0,b[0],b[1],b[2]||0,c[0],c[1],c[2]||
0,d[0],d[1],d[2]||0],3);f[3]&&(this.Ab(a,f),this.Ka(this.TRIANGLE_FAN,a.da));g[3]&&(this.Ab(a,g),this.Ka(this.LINE_LOOP,a.da));a.destroy()},rect:function(a,b,c,d){var f=this.lc,g=this.Mb,h=this.qc.M,j=this.Pe.M;"center"===this.qc.Wg&&(a-=c/2,b-=d/2);this.Vc();this.translate(a,b,0);this.scale(c,d,1);f[3]&&(this.Ab(h,f),this.Ka(this.TRIANGLE_STRIP,h.da));g[3]&&(this.Ab(j,g),this.Ka(this.LINE_LOOP,j.da));this.Uc()},Yd:function(a,b,c,d,f,g){if(a.loaded){var h=this.qc,j=this.Dd,l=h.M,g=g||h.Xa;if("undefined"===
typeof d||"undefined"===typeof f)d=a.width,f=a.height;"center"===h.Ig&&(b-=d*0.5,c-=f*0.5);j[3]&&(this.Vc(),this.translate(b,c,0),this.scale(d,f,1),this.Be(l,g,j,a),this.Ka(this.TRIANGLE_STRIP,l.da),this.Uc())}},Ka:function(a,b){this.t.drawArrays(a,0,b)},Xd:function(a,b){var c=this.t;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.h);c.drawElements(a,b.da,c.UNSIGNED_SHORT,0)},Vd:function(a,b){var c=["experimental-webgl","webgl","webkit-3d","moz-webgl"],d,f,g;for(f=0,g=c.length;f<g;f++)try{d=a.getContext(c[f],
b)}catch(h){}finally{if(d)return d}},loop:function(a,b){window.Wf(a);this.Tc();this.Wb++;if(b){this.kc=(new Date).getTime();if(this.oc!==0)this.qb=this.kc-this.oc,this.mf=1E3/this.qb;this.oc=this.kc;this.elapsedTime+=this.qb}},destroy:function(){Tilt.Sb();Tilt.w(this)}};window.Wf=window.Yg||window.hh||window.Og||window.Qg||window.Pg||function(a){window.setTimeout(a,1E3/60)};Tilt=Tilt||{};Tilt.aa={};
Tilt.aa.Jd={Bb:"attribute vec3 vertexPosition;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvoid main(void) {\n    gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n}",rb:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 color;\nvoid main(void) {\n    gl_FragColor = color;\n}"};
Tilt.aa.Fa={Bb:"attribute vec3 vertexPosition;\nattribute vec2 vertexTexCoord;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvarying vec2 texCoord;\nvoid main(void) {\n  gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n  texCoord = vertexTexCoord;\n}",rb:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 color;\nuniform sampler2D sampler;\nvarying vec2 texCoord;\nvoid main(void) {\n  vec4 texture = texture2D(sampler, texCoord);\n  gl_FragColor = color * texture;\n}"};
Tilt=Tilt||{};Tilt.oa=function(a){Tilt.n.o("Tilt.Container",this);a=a||{};this.i=a.i||!1;this.disabled=a.disabled||!1;this.standby=a.standby||!1;this.Ce=a.background||M;this.m=a.x||0;this.l=a.y||0;this.s=a.width||0;this.k=a.height||0;this.wa=a.Sa||[0,0];a.elements instanceof Array&&a.elements.forEach(function(a){this.push(a)}.bind(this));Tilt.c.push(this)};Tilt.oa.prototype=[];U=Tilt.oa.prototype;U.L=function(a,b){this.m=a;this.l=b};U.Z=function(a,b){this.s=a;this.k=b};U.fa=ba("m");U.$c=ba("s");
U.Zc=ba("k");U.X=T("m");U.v=T("l");U.La=T("s");U.Bc=T("k");U.update=R();
U.D=function(a,b){var b=b||Tilt.W,c;c=this.Ce;var d=this.m,f=this.l,g=this.s,h=this.k,j=this.wa,l=d+j[0],j=f+j[1],m,p,k,w,x,t,A,r,s,v;c!==M&&(b.fill(c),b.Hf(),b.rect(d,f,g||b.width,h||b.height));b.Vc();b.translate(l,j,0);for(s=0,v=this.length;s<v;s++)if(c=this[s],c.yc=!1,c.Ne=d,c.Oe=f,c.Cg=g,c.Bg=h,!c.i)if("function"===typeof c.update&&!c.i&&!c.disabled&&c.update(a,b),g===0||h===0)c.D(a,b),c.yc=!0;else if(m=c.u||[1,1,1,1],p=m[0]+l,k=m[1]+j,w=m[2],x=m[3],m=p,t=k,p+=w,k+=x,w=d,x=f,A=d+g,r=f+h,m>w&&
p<A&&t>x&&k<r)c.D(a,b),c.yc=!0;b.Uc()};U.clear=function(){for(var a=0,b=this.length;a<b;a++)this[a].destroy(),this[a]=M;this.splice(0,this.length)};U.destroy=function(){Tilt.c.splice(Tilt.c.indexOf(this),1);Tilt.w(this)};Tilt=Tilt||{};
Tilt.Qd=function(a){Tilt.n.o("Tilt.ScrollContainer",this);Tilt.c.push(this);this.view=new Tilt.oa(a);this.view.standby=!0;this.scrollbars=new Tilt.oa;this.top=a.ve[0]||0;this.bottom=a.ve[1]||Number.MAX_VALUE;this.view.wa[1]=this.top;var b=new Tilt.e(a.top,{x:this.view.m-25,y:this.view.l-5,width:32,height:30,fill:a.top?M:"#f00a",padding:a.top?a.top.d:[0,0,0,0],onmousedown:function(){window.clearInterval(this.hb);window.clearInterval(this.gb);window.clearInterval(this.fb);var a=Tilt.c,b=this.view,c=
b.wa;this.gb=window.setInterval(function(){c[1]=Tilt.g.O(c[1]+5,this.top,-this.bottom+b.k);a.r();a.R||(c=b=a=M,window.clearInterval(this.gb))}.bind(this),1E3/60)}.bind(this)}),c=new Tilt.e(a.bottom,{x:this.view.m-25,y:this.view.l+this.view.k-25,width:32,height:30,fill:a.bottom?M:"#0f0a",padding:a.bottom?a.bottom.d:[0,0,0,0],onmousedown:function(){window.clearInterval(this.hb);window.clearInterval(this.gb);window.clearInterval(this.fb);var a=Tilt.c,b=this.view,c=b.wa;this.fb=window.setInterval(function(){c[1]=
Tilt.g.O(c[1]-5,this.top,-this.bottom+b.k);a.r();a.R||(c=b=a=M,window.clearInterval(this.fb))}.bind(this),1E3/60)}.bind(this)}),a=new Tilt.e(a.reset,{x:this.view.m-25,y:this.view.l+this.view.k-50,width:32,height:30,fill:a.reset?M:"#0f0b",padding:a.reset?a.reset.d:[0,0,0,0],onmousedown:function(){window.clearInterval(this.hb);window.clearInterval(this.gb);window.clearInterval(this.fb);var a=Tilt.c,b=this.view,c=b.wa;this.hb=window.setInterval(function(){c[1]-=(c[1]-this.top)/10;a.r();Math.abs(c[1]-
this.top)<0.1&&(c=b=a=M,window.clearInterval(this.hb))}.bind(this),1E3/60)}.bind(this)});this.view.onmousescroll=function(a){window.clearInterval(this.hb);window.clearInterval(this.gb);window.clearInterval(this.fb);var b=Tilt.c,c=this.view,h=c.wa;h[1]=Tilt.g.O(h[1]-a/2,this.top,-this.bottom+c.k);b.r()}.bind(this);this.scrollbars.push(b,c,a);a=c=b=M};
Tilt.Qd.prototype={update:function(){this.scrollbars.i=this.view.i;this.scrollbars.disabled=this.view.disabled},D:R(),destroy:function(){Tilt.c.splice(Tilt.c.indexOf(this),1);Tilt.w(this)}};Tilt=Tilt||{};
Tilt.e=function(a,b){Tilt.n.o("Tilt.Button",this);b=b||{};this.i=b.i||!1;this.disabled=b.disabled||!1;this.onmousedown=b.onmousedown||i;this.onmouseup=b.onmouseup||i;this.onclick=b.onclick||i;this.b=a||{m:-1,l:-1,s:-1,k:-1};this.b.m=b.x||this.b.m;this.b.l=b.y||this.b.l;this.b.s=b.width||this.b.s;this.b.k=b.height||this.b.k;this.b.disabled=!0;this.d=b.padding||[0,0,0,0];this.Hb=b.fill||M;this.tc=b.stroke||M;this.u=[this.b.m+this.d[0],this.b.l+this.d[1],this.b.s-this.d[0]-this.d[2],this.b.k-this.d[1]-
this.d[3]]};
Tilt.e.prototype={L:function(a,b){"function"===typeof this.b.L?this.b.L(a,b):(this.b.m=a,this.b.l=b);this.u[0]=a+this.d[0];this.u[1]=b+this.d[1]},Z:function(a,b){"function"===typeof this.b.Z?this.b.Z(a,b):(this.b.s=a,this.b.k=b);this.u[2]=a-this.d[0]-this.d[2];this.u[3]=b-this.d[1]-this.d[3]},fa:function(a){this.L(a,this.b.l)},$c:function(a){this.Z(a,this.b.k)},Zc:function(a){this.Z(this.b.s,a)},ye:function(a){var b=this.b.m,c=this.b.l,d=this.b.s,f=this.b.k,g=this.b.d;this.b=a;this.b.d=g;this.b.L(b,
c);this.b.Z(d,f);this.b.disabled=!0},ec:ba("Hb"),X:function(){return this.b.m},v:function(){return this.b.l},La:function(){return this.b.s},Bc:function(){return this.b.k},D:function(a,b){b=b||Tilt.W;"undefined"!==typeof this.b.uc&&this.b.D(b);var c,d,f=this.Hb,g=this.tc;if(f||g)c=this.u,d=this.d,b.fill(f||"#fff0"),b.stroke(g||"#0000"),b.rect(c[0]-d[0],c[1]-d[1],c[2]+d[0]+d[2],c[3]+d[1]+d[3]);Tilt.c.gf&&(b.fill("#fff2"),b.stroke("#00f"),b.rect(this.b.m,this.b.l,this.b.s,this.b.k),this.disabled||(b.fill("#0f04"),
b.rect(this.u[0],this.u[1],this.u[2],this.u[3])))},destroy:function(){Tilt.w(this)}};Tilt=Tilt||{};
Tilt.Ea=function(a,b){Tilt.n.o("Tilt.Slider",this);b=b||{};this.i=b.i||!1;this.disabled=b.disabled||!1;this.onmousedown=b.onmousedown||i;this.onmouseup=b.onmouseup||i;this.onclick=b.onclick||i;this.b=new Tilt.z(a.uc,a.Lb,{padding:a.d,ma:a.Cd});this.b.m=b.x||this.b.m;this.b.l=b.y||this.b.l;this.b.s=b.width||this.b.s;this.b.k=b.height||this.b.k;this.m=this.b.m;this.l=this.b.l;this.sc=b.size||100;this.ld=b.direction||0;this.u=[this.b.m+this.b.d[0],this.b.l+this.b.d[1],this.b.s-this.b.d[2],this.b.k-this.b.d[3]];
this.Q(b.value||0)};
Tilt.Ea.prototype={L:function(a,b){this.m=a;this.l=b;this.u[0]=a+this.b.d[0];this.u[1]=b+this.b.d[1];this.Q(this.S)},fa:function(a){this.L(a,this.l);this.Q(this.S)},Z:function(a){this.sc=a;this.Q(this.S)},Q:function(a){var b=this.b,c=this.m,d=this.l,f=this.sc,g=this.ld;this.S=Tilt.g.O(a+0.0010,0,100);g===0?(a=Tilt.g.map(this.S,0,100,c,c+f),b.L(a,d),this.u[0]=a+b.d[0]):(a=Tilt.g.map(this.S,0,100,d,d+f),b.L(c,a),this.u[1]=a+b.d[1])},X:T("m"),v:T("l"),update:function(){var a=Tilt.c,b,c,d,f,g,h,j;if(this.R)this.zd=
!0;else if(!a.R)this.zd=!1;if(this.zd)b=this.b,c=this.Ne,d=this.Oe,f=this.m,g=this.l,h=this.sc,j=this.ld,j===0?(f+=c,h=f+h,a=Tilt.g.O(a.ac-b.s*0.5,f,h),c=a-c,b.L(c,g),this.S=Tilt.g.map(a,f,h,0,100),this.u[0]=c+b.d[0]):(g+=d,a=Tilt.g.O(a.Ag-b.k*0.5,g,g+h),c=a-d,b.L(f,c),this.S=Tilt.g.map(c,g,g+h,0,100),this.u[1]=c+b.d[1])},D:function(a,b){b=b||Tilt.W;this.b.D(b)},destroy:function(){Tilt.w(this)}};Tilt=Tilt||{};
Tilt.z=function(a,b,c){Tilt.n.o("Tilt.Sprite",this);c=c||{};this.i=c.i||!1;this.disabled=c.disabled||!1;this.onmousedown=c.onmousedown||i;this.onmouseup=c.onmouseup||i;this.onclick=c.onclick||i;this.uc=a;this.Lb=b||[0,0,a.width,a.height];this.m=c.x||0;this.l=c.y||0;this.s=c.width||this.Lb[2];this.k=c.height||this.Lb[3];this.d=c.padding||[0,0,0,0];this.Cd=c.ma||M;this.Je=c.qa||!1;this.u=[this.m+this.d[0],this.l+this.d[1],this.s-this.d[0]-this.d[2],this.k-this.d[0]-this.d[3]];this.Nb=M};
Tilt.z.prototype={L:function(a,b){this.m=a;this.l=b;this.u[0]=a+this.d[0];this.u[1]=b+this.d[1]},Z:function(a,b){this.s=a;this.k=b;this.u[2]=a-this.d[0]-this.d[2];this.u[3]=b-this.d[1]-this.d[3]},fa:function(a){this.L(a,this.l)},$c:function(a){this.Z(a,this.k)},Zc:function(a){this.Z(this.s,a)},X:T("m"),v:T("l"),La:T("s"),Bc:T("k"),D:function(a,b){var b=b||Tilt.W,c=this.Lb,d=this.uc,f=this.m,g=this.l,h=this.s,j=this.k,l=this.Je,m=this.Cd;if(this.Nb===M&&d.loaded)this.Nb=new Tilt.V([c[0]/d.width,c[1]/
d.height,(c[0]+c[2])/d.width,c[1]/d.height,c[0]/d.width,(c[1]+c[3])/d.height,(c[0]+c[2])/d.width,(c[1]+c[3])/d.height],2);m!==M&&b.ma(m);l?(b.qa(!0),b.Yd(d,f,g,h,j,this.Nb),b.qa(!1)):b.Yd(d,f,g,h,j,this.Nb);m!==M&&b.ma("#fff");Tilt.c.gf&&(b.fill("#fff2"),b.stroke("#f00"),b.rect(this.m,this.l,this.s,this.k),this.disabled||(b.fill("#0f04"),b.rect(this.u[0],this.u[1],this.u[2],this.u[3])))},destroy:function(){Tilt.w(this)}};Tilt=Tilt||{};Tilt.c=[];Tilt.c.ac=0;Tilt.c.Qc=0;Tilt.c.R=!1;Tilt.c.Y=!1;
Tilt.c.Ff=0;Tilt.c.ce=[];Tilt.c.r=R();Tilt.c.D=function(a){var b=Tilt.W,c,d,f;b.Wd();b.Jf();for(c=0,d=this.length;c<d;c++)f=this[c],f.i||(f.disabled||f.update(a,b),f.D(a,b))};Tilt.c.Of=function(a){if(!(a.Lc||this.indexOf(a)===-1)){for(var b=0,c=this.length;b<c;b++)this[b].vd=this[b].disabled,this[b].disabled=!0;a.Lc=!0;a.i=!1;a.disabled=!1;this.r()}};
Tilt.c.hf=function(a){if(a.Lc&&this.indexOf(a)!==-1){for(var b=0,c=this.length;b<c;b++)this[b].disabled=this[b].vd,delete this[b].vd;a.Lc=!1;a.i=!0;a.disabled=!0;this.r()}};Tilt.c.Mc=function(a,b,c){this.R=!0;this.Y=!1;this.bb("onmousedown",a,b,c)};Tilt.c.Pc=function(a,b,c){this.Y=this.R=!1;this.bb("onmouseup",a,b,c)};Tilt.c.click=function(a,b){this.bb("onclick",a,b)};Tilt.c.jf=function(a,b){this.bb("ondoubleclick",a,b)};Tilt.c.Nc=function(a,b){this.ac=a;this.Qc=b};
Tilt.c.Oc=function(a){this.Y=!1;this.Ff=a;this.bb("onmousescroll",a)};Tilt.c.Y=R();Tilt.c.wb=R();Tilt.c.Ic=function(a){this.ce[a]=!0;this.qd("onkeydown",a)};Tilt.c.Jc=function(a){this.ce[a]=!1;this.qd("onkeyup",a)};Tilt.c.wg=function(){this.ac=-Number.MAX_VALUE;this.Qc=-Number.MAX_VALUE};
Tilt.c.bb=function(a,b,c,d){var f,g,h,j,l,m,p,k,w,x,t,A,r=this.ac,s=this.Qc;for(f=0,h=this.length;f<h;f++)if(l=this[f],!l.i&&!l.disabled){k=l.m||0;g=l.l||0;j=l.s||0;w=l.k||0;if(l.standby&&r>k&&r<k+j&&s>g&&s<g+w)this.Y=!0,p=l[a],"function"===typeof p&&p(b,c,d);j=l.wa||[0,0];k+=j[0];w=g+j[1]+2;for(g=0,j=l.length;g<j;g++)if((m=l[g])&&!m.i&&!m.disabled&&m.yc){x=m.u||[-1,-1,-1,-1];p=x[0]+k;t=x[1]+w;A=x[2];x=x[3];if("onmouseup"===a)m.R=!1;if(r>p&&r<p+A&&s>t&&s<t+x){if("onmousedown"===a)m.R=!0;this.Y=!0;
p=m[a];"function"===typeof p&&p(b,c,d)}}}};Tilt.c.qd=function(a,b){var c,d,f,g,h,j,l;for(c=0,f=this.length;c<f;c++)if(h=this[c],!h.i&&!h.disabled){h.standby&&(l=h[a],"function"===typeof l&&l(b));for(d=0,g=h.length;d<g;d++)if((j=h[d])&&!j.i&&!j.disabled)l=j[a],"function"===typeof l&&l(b)}};Tilt.n.o("Tilt.UI",Tilt.c);if("undefined"===typeof Cc)var Cc=Components.classes;if("undefined"===typeof Ci)var Ci=Components.interfaces;if("undefined"===typeof Cu)var Cu=Components.utils;Tilt=Tilt||{};
Tilt.G={alert:function(a,b){var c;"undefined"===typeof b&&(b="undefined");try{c=Cc["@mozilla.org/embedcomp/prompt-service;1"].getService(Ci.nsIPromptService),c.alert(M,a,b)}catch(d){window.alert(b)}},confirmCheck:function(a,b,c,d){var f;"undefined"===typeof b&&(b="undefined");try{return f=Cc["@mozilla.org/embedcomp/prompt-service;1"].getService(Ci.nsIPromptService),f.confirmCheck(M,a,b,c,d)}catch(g){window.alert(b)}},log:function(a){var b;"undefined"===typeof a&&(a="undefined");try{b=Cc["@mozilla.org/consoleservice;1"].getService(Ci.nsIConsoleService),
b.logStringMessage(a)}catch(c){window.alert(a)}},error:function(a,b,c,d,f,g,h){var j,l;"undefined"===typeof a&&(a="undefined");try{j=Cc["@mozilla.org/consoleservice;1"].getService(Ci.nsIConsoleService),l=Cc["@mozilla.org/scripterror;1"].createInstance(Ci.nsIScriptError),l.init(a,b,c,d,f,g,h),j.logMessage(l)}catch(m){window.alert(a)}}};
Tilt.T={Ud:"tilt-string-bundle",get:function(a){if("undefined"===typeof a)return"undefined";var b=document.getElementById(this.Ud);return b?b.getString(a):a},Ac:function(a,b){if("undefined"===typeof a)return"undefined";if("undefined"===typeof b)return a;var c=document.getElementById(this.Ud);return c?c.Fg(a,b):[a,b].join(" ")}};Tilt.ba(Tilt.G);Tilt.n.o("Tilt.Console",Tilt.G);Tilt=Tilt||{};
Tilt.H={pb:i,Ia:i,Qa:function(a,b,c,d){if("undefined"===typeof this.pb)this.pb=document;if("undefined"===typeof this.Ia)this.Ia=document.body;var f=this.pb,g=this.Ia;if("undefined"===typeof f||f===M||"undefined"===typeof g||g===M)return M;f=f.createElement("canvas");f.setAttribute("style","width: 100%; height: 100%;");f.width=a;f.height=b;f.id=d;c&&this.append(f,g);return f},Jg:function(){var a=this.Qa(window.innerWidth,window.innerHeight,!0);this.Ia.setAttribute("style","background: #000; margin: 0px; padding: 0px; overflow: hidden;");
return a},append:function(a,b){b.appendChild(a)},remove:function(a){a.parentNode.removeChild(a)},ze:function(a,b,c,d){this.offsetY=this.offsetX=this.zb=0;this.ad=this.bd=Number.MAX_VALUE;var f=0,g=0,h=function(b,d){var m,p,k,w,x,t,A;for(m=0,p=b.childNodes.length;m<p;m++)if(k=b.childNodes[m],d>f&&(f=d),g++,this.zb++,a(k,d,g,this.zb,this.offsetX,this.offsetY,this.bd,this.ad),h(k,d+1),c&&k.localName==="iframe")w=Tilt.H.Cc(k),x=w.x-window.content.pageXOffset,t=w.y-window.content.pageYOffset,A=w.width,
w=w.height,this.offsetX+=x,this.offsetY+=t,this.bd=A,this.ad=w,h(k.contentDocument,d+1),this.offsetX-=x,this.offsetY-=t,this.ad=this.bd=Number.MAX_VALUE}.bind(this);try{"function"===typeof a&&h(d||window.content.document,0),"function"===typeof b&&b(f,g)}finally{d=M}},of:function(a){var b,c={width:a.innerWidth+a.scrollMaxX,height:a.innerHeight+a.scrollMaxY};this.ze(function(a){b=this.Cc(a);c.width=Math.max(c.width,b.x||0+b.width||0);c.height=Math.max(c.height,b.y||0+b.height||0)}.bind(this),M,a.document);
return c},Cc:function(a){if(a.nodeType!==1)return{x:0,y:0,width:0,height:0};var b,c,d,f;try{if(window.content.location.href==="about:blank"&&(a.localName==="head"||a.localName==="body"))throw new Exception;d=a.getBoundingClientRect();b=window.content.pageXOffset;c=window.content.pageYOffset;return{x:d.left+b,y:d.top+c,width:d.width,height:d.height}}catch(g){c=b=0;d=a.clientWidth;f=a.clientHeight;if(a.offsetParent){do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent)}else{if(a.x)b=a.x;if(a.y)c=
a.y}return{x:b,y:c,width:d,height:f}}finally{}},Gg:function(a){var b;a.nodeType===1?b="ELEMENT_NODE":a.nodeType===2?b="ATTRIBUTE_NODE":a.nodeType===3?b="TEXT_NODE":a.nodeType===4?b="CDATA_SECTION_NODE":a.nodeType===5?b="ENTITY_REFERENCE_NODE":a.nodeType===6?b="ENTITY_NODE":a.nodeType===7?b="PROCESSING_INSTRUCTION_NODE":a.nodeType===8?b="COMMENT_NODE":a.nodeType===9?b="DOCUMENT_NODE":a.nodeType===10?b="DOCUMENT_TYPE_NODE":a.nodeType===11?b="DOCUMENT_FRAGMENT_NODE":a.nodeType===12&&(b="NOTATION_NODE");
return b},nf:function(a){var b=[],c,d;for(c=0,d=a.length;c<d;c++)b.push(a[c].name+' = "'+a[c].value+'"');return b.join("\n")+"\n"},pf:function(a){var b=[],c,d,f;for(f=0;f<a.length;f++)c=a[f],d=a.getPropertyValue(c),c=c+": "+d+";",'background-attachment: scroll;\nbackground-clip: border-box;\nbackground-color: transparent;\nbackground-image: none;\nbackground-origin: padding-box;\nbackground-position: 0% 0%;\nbackground-repeat: repeat;\nbackground-size: auto auto;\nborder-bottom-color: rgb(0, 0, 0);\nborder-bottom-left-radius: 0px;\nborder-bottom-right-radius: 0px;\nborder-bottom-style: none;\nborder-bottom-width: 0px;\nborder-collapse: separate;\nborder-left-color: rgb(0, 0, 0);\nborder-left-style: none;\nborder-left-width: 0px;\nborder-right-color: rgb(0, 0, 0);\nborder-right-style: none;\nborder-right-width: 0px;\nborder-spacing: 0px 0px;\nborder-top-color: rgb(0, 0, 0);\nborder-top-left-radius: 0px;\nborder-top-right-radius: 0px;\nborder-top-style: none;\nborder-top-width: 0px;\nbottom: auto;\nbox-shadow: none;\ncaption-side: top;\nclear: none;\nclip: auto;\ncolor: rgb(0, 0, 0);\ncontent: none;\ncounter-increment: none;\ncounter-reset: none;\ncursor: auto;\ndirection: ltr;\ndisplay: block;\nempty-cells: -moz-show-background;\nfloat: none;\nfont-family: serif;\nfont-size: 16px;\nfont-size-adjust: none;\nfont-stretch: normal;\nfont-style: normal;\nfont-variant: normal;\nfont-weight: 400;\nheight: 0px;\nime-mode: auto;\nleft: auto;\nletter-spacing: normal;\nline-height: 19.2px;\nlist-style-image: none;\nlist-style-position: outside;\nlist-style-type: disc;\nmargin-bottom: 8px;\nmargin-left: 8px;\nmargin-right: 8px;\nmargin-top: 8px;\nmarker-offset: auto;\nmax-height: none;\nmax-width: none;\nmin-height: 0px;\nmin-width: 0px;\nopacity: 1;\noutline-color: rgb(0, 0, 0);\noutline-offset: 0px;\noutline-style: none;\noutline-width: 0px;\noverflow: visible;\noverflow-x: visible;\noverflow-y: visible;\npadding-bottom: 0px;\npadding-left: 0px;\npadding-right: 0px;\npadding-top: 0px;\npage-break-after: auto;\npage-break-before: auto;\npointer-events: auto;\nposition: static;\nquotes: "\u201c" "\u201d" "\u2018" "\u2019";\nresize: none;\nright: auto;\ntable-layout: auto;\ntext-align: start;\ntext-decoration: none;\ntext-indent: 0px;\ntext-overflow: clip;\ntext-shadow: none;\ntext-transform: none;\ntop: auto;\nunicode-bidi: embed;\nvertical-align: baseline;\nvisibility: visible;\nwhite-space: normal;\nwidth: 1157px;\nword-spacing: 0px;\nword-wrap: normal;\nz-index: auto;\n-moz-animation-delay: 0s;\n-moz-animation-direction: normal;\n-moz-animation-duration: 0s;\n-moz-animation-fill-mode: none;\n-moz-animation-iteration-count: 1;\n-moz-animation-name: none;\n-moz-animation-play-state: running;\n-moz-animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n-moz-appearance: none;\n-moz-background-inline-policy: continuous;\n-moz-binding: none;\n-moz-border-bottom-colors: none;\n-moz-border-image: none;\n-moz-border-left-colors: none;\n-moz-border-right-colors: none;\n-moz-border-top-colors: none;\n-moz-box-align: stretch;\n-moz-box-direction: normal;\n-moz-box-flex: 0;\n-moz-box-ordinal-group: 1;\n-moz-box-orient: horizontal;\n-moz-box-pack: start;\n-moz-box-sizing: content-box;\n-moz-column-count: auto;\n-moz-column-gap: 16px;\n-moz-column-rule-color: rgb(0, 0, 0);\n-moz-column-rule-style: none;\n-moz-column-rule-width: 0px;\n-moz-column-width: auto;\n-moz-float-edge: content-box;\n-moz-font-feature-settings: normal;\n-moz-font-language-override: normal;\n-moz-force-broken-image-icon: 0;\n-moz-hyphens: manual;\n-moz-image-region: auto;\n-moz-orient: horizontal;\n-moz-outline-radius-bottomleft: 0px;\n-moz-outline-radius-bottomright: 0px;\n-moz-outline-radius-topleft: 0px;\n-moz-outline-radius-topright: 0px;\n-moz-stack-sizing: stretch-to-fit;\n-moz-tab-size: 8;\n-moz-text-blink: none;\n-moz-text-decoration-color: rgb(0, 0, 0);\n-moz-text-decoration-line: none;\n-moz-text-decoration-style: solid;\n-moz-transform: none;\n-moz-transform-origin: 50% 50%;\n-moz-transition-delay: 0s;\n-moz-transition-duration: 0s;\n-moz-transition-property: all;\n-moz-transition-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n-moz-user-focus: none;\n-moz-user-input: auto;\n-moz-user-modify: read-only;\n-moz-user-select: auto;\n-moz-window-shadow: default;\nclip-path: none;\nclip-rule: nonzero;\ncolor-interpolation: srgb;\ncolor-interpolation-filters: linearrgb;\ndominant-baseline: auto;\nfill: rgb(0, 0, 0);\nfill-opacity: 1;\nfill-rule: nonzero;\nfilter: none;\nflood-color: rgb(0, 0, 0);\nflood-opacity: 1;\nimage-rendering: auto;\nlighting-color: rgb(255, 255, 255);\nmarker-end: none;\nmarker-mid: none;\nmarker-start: none;\nmask: none;\nshape-rendering: auto;\nstop-color: rgb(0, 0, 0);\nstop-opacity: 1;\nstroke: none;\nstroke-dasharray: none;\nstroke-dashoffset: 0px;\nstroke-linecap: butt;\nstroke-linejoin: miter;\nstroke-miterlimit: 4;\nstroke-opacity: 1;\nstroke-width: 1px;\ntext-anchor: start;\ntext-rendering: auto;'.indexOf(c)===
-1&&b.push(c);return b.join("\n")+"\n"}};Tilt.ba(Tilt.H);Tilt.n.o("Tilt.Document",Tilt.H);Tilt=Tilt||{};
Tilt.pa={kg:function(a,b){var c;try{return c=Cc["@mozilla.org/filepicker;1"].createInstance(Ci.nsIFilePicker),c.init(window,a,b==="folder"?Ci.nsIFilePicker.modeGetFolder:Ci.nsIFilePicker.Ng),c.show()==Ci.nsIFilePicker.returnOK?c.file:M}catch(d){return Tilt.G.error(d.message),M}},save:function(a,b){var c,d,f,g;try{Cu.import("resource://gre/modules/FileUtils.jsm"),Cu.import("resource://gre/modules/NetUtil.jsm"),c=Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsILocalFile),c.initWithPath(b),d=FileUtils.openSafeFileOutputStream(c),
g=Cc["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Ci.nsIScriptableUnicodeConverter),g.charset="UTF-8",f=g.convertToInputStream(a),NetUtil.asyncCopy(f,d,function(a){return Components.isSuccessCode(a)?!1:!0})}catch(h){return Tilt.G.error(h.message),!1}},$f:function(a,b){var c,d,f,g;try{return Cu.import("resource://gre/modules/FileUtils.jsm"),Cu.import("resource://gre/modules/NetUtil.jsm"),c=Cc["@mozilla.org/file/local;1"].createInstance(Ci.nsILocalFile),c.initWithPath(b),d=Cc["@mozilla.org/network/io-service;1"].getService(Ci.nsIIOService),
f=d.newURI(a.toDataURL("image/png",""),"UTF8",M),d.newFileURI(c),g=Cc["@mozilla.org/embedding/browser/nsWebBrowserPersist;1"].createInstance(Ci.nsIWebBrowserPersist),g.persistFlags=Ci.nsIWebBrowserPersist.PERSIST_FLAGS_REPLACE_EXISTING_FILES,g.persistFlags|=Ci.nsIWebBrowserPersist.PERSIST_FLAGS_AUTODETECT_APPLY_CONVERSION,g.saveURI(f,M,M,M,M,c),!0}catch(h){return Tilt.G.error(h.message),!1}},separator:navigator.appVersion.indexOf("Win")!==-1?"\\":"/"};Tilt.ba(Tilt.pa);Tilt.n.o("Tilt.File",Tilt.pa);
Tilt=Tilt||{};
Tilt.g={Uf:function(a){return a*0.0174532925},Dg:function(a){return a*57.2957795},map:function(a,b,c,d,f){return d+(f-d)*((a-b)/(c-b))},be:function(a){return(a&a-1)===0},je:function(a){var b;--a;for(b=1;b<32;b<<=1)a|=a>>b;return a+1},O:function(a,b,c){if(b>c)var d=b,b=c,c=d;return Math.max(b,Math.min(c,a))},Vg:function(a,b,c){b*=0.5;var d=Math.sin(b),b=Math.cos(b),f=a[0]*d,g=a[1]*d,a=a[2]*d;return"undefined"===typeof c?[f,g,a,b]:(c[0]=f,c[1]=g,c[2]=a,c[3]=b,c)},re:function(a,b,c,d){var f;b*=0.5;a*=
0.5;c*=0.5;var g=Math.sin,h=Math.cos;f=g(b);var j=g(a),g=g(c),l=h(b),m=h(a),h=h(c),b=f*m*h-l*j*g,a=l*j*h+f*m*g,c=l*m*g-f*j*h;f=l*m*h+f*j*g;return"undefined"===typeof d?[b,a,c,f]:(d[0]=b,d[1]=a,d[2]=c,d[3]=f,d)},Ug:function(a,b,c,d,f){var g,h=oa();d?Ea(d,c,g=$()):g=c;a[3]=1;Fa(g,a,h);d?(f[0]=h[0]/h[3],f[1]=h[1]/h[3],f[0]*=b[2]*0.5,f[1]*=-b[3]*0.5,f[0]+=b[2]*0.5,f[1]+=b[3]*0.5,f[2]=0):(f[0]=h[0],f[1]=h[1],f[2]=h[2]);return f},Ae:function(a,b,c,d,f){var g=$(),f=f||oa();Ea(d,c,g);var h;h||(h=g);var c=
g[0],d=g[1],j=g[2],l=g[3],m=g[4],p=g[5],k=g[6],w=g[7],x=g[8],t=g[9],A=g[10],r=g[11],s=g[12],v=g[13],u=g[14],q=g[15],z=c*p-d*m,B=c*k-j*m,n=c*w-l*m,C=d*k-j*p,E=d*w-l*p,G=j*w-l*k,I=x*v-t*s,K=x*u-A*s,o=x*q-r*s,H=t*u-A*v,J=t*q-r*v,y=A*q-r*u,D=1/(z*y-B*J+n*H+C*o-E*K+G*I);h[0]=(p*y-k*J+w*H)*D;h[1]=(-d*y+j*J-l*H)*D;h[2]=(v*G-u*E+q*C)*D;h[3]=(-t*G+A*E-r*C)*D;h[4]=(-m*y+k*o-w*K)*D;h[5]=(c*y-j*o+l*K)*D;h[6]=(-s*G+u*n-q*B)*D;h[7]=(x*G-A*n+r*B)*D;h[8]=(m*J-p*o+w*I)*D;h[9]=(-c*J+d*o-l*I)*D;h[10]=(s*E-v*n+q*z)*
D;h[11]=(-x*E+t*n-r*z)*D;h[12]=(-m*H+p*K-k*I)*D;h[13]=(c*H-d*K+j*I)*D;h[14]=(-s*C+v*B-u*z)*D;h[15]=(x*C-t*B+A*z)*D;f[0]=+((a[0]-b[0])/b[2]*2-1);f[1]=-((a[1]-b[1])/b[3]*2-1);f[2]=2*a[2]-1;f[3]=1;Fa(g,f);f[3]=1/f[3];f[0]*=f[3];f[1]*=f[3];f[2]*=f[3];return f},ef:function(a,b,c,d,f){this.Ae(a,c,d,f,a);this.Ae(b,c,d,f,b);var f=Ca(b,a),g;g||(g=f);var c=f[0],d=f[1],f=f[2],h=Math.sqrt(c*c+d*d+f*f);h?h==1?(g[0]=c,g[1]=d,g[2]=f):(h=1/h,g[0]=c*h,g[1]=d*h,g[2]=f*h):(g[0]=0,g[1]=0,g[2]=0);return{position:a,Lg:b,
direction:g}},Bf:function(a,b,c,d,f){var g=X(),h=X(),j=X(),l=X(),m=X(),p=d.position,d=d.direction;"undefined"===typeof f&&(f=X());Ca(b,a,g);Ca(c,a,h);pa(g,h,j);if(j[0]===0&&j[1]===0&&j[2]===0)return-1;Ca(p,a,m);b=-qa(j,m);j=+qa(j,d);if(Math.abs(j)<1.0E-4)return b===0?2:0;j=b/j;if(j<0)return 0;ta(p,xa(d,j),f);p=qa(g,g);d=qa(g,h);j=qa(h,h);Ca(f,a,l);a=qa(l,g);h=qa(l,h);l=d*d-p*j;f=(d*h-j*a)/l;if(f<0||f>1)return 0;h=(d*a-p*h)/l;return h<0||f+h>1?0:1},Dc:function(a,b,c){if(!(c<0)&&!(c>1))if(c<0.166666667)return a+
(b-a)*6*c;else if(c<0.5)return b;else if(c<0.666666667)return a+(b-a)*(2/3-c)*6;return a},$g:function(a,b,c){a*=0.00392156863;b*=0.00392156863;c*=0.00392156863;var d=Math.max(a,b,c),f=Math.min(a,b,c),g,h,j=(d+f)*0.5;d===f?h=f=0:(g=d-f,f=j>0.5?g/(2-d-f):g/(d+f),d===a?h=(b-c)/g+(b<c?6:0):d===b?h=(c-a)/g+2:d===c&&(h=(a-b)/g+4),h/=6);return[h,f,j]},Hg:function(a,b,c){var d,f;b===0?c=b=a=c:(d=c<0.5?c*(1+b):c+b-c*b,f=2*c-d,c=this.Dc(f,d,a+0.333333333),b=this.Dc(f,d,a),a=this.Dc(f,d,a-0.333333333));return[c*
255,b*255,a*255]},Zf:function(a,b,c){a*=0.00392156863;b*=0.00392156863;c*=0.00392156863;var d=Math.max(a,b,c),f=Math.min(a,b,c),g,h;g=d-f;d===f?h=0:(d===a?h=(b-c)/g+(b<c?6:0):d===b?h=(c-a)/g+2:d===c&&(h=(a-b)/g+4),h/=6);return[h,d===0?0:g/d,d]},vf:function(a,b,c){var d,f,g,h=Math.floor(a*6),j=a*6-h,a=c*(1-b),l=c*(1-j*b),b=c*(1-(1-j)*b);h%=6;h===0?(d=c,f=b,g=a):h===1?(d=l,f=c,g=a):h===2?(d=a,f=c,g=b):h===3?(d=a,f=l,g=c):h===4?(d=b,f=a,g=c):h===5&&(d=c,f=a,g=l);return[d*255,f*255,g*255]},Ma:function(a){var a=
a.charAt(0)==="#"?a.substring(1):a,b,c,d,f;if("undefined"!==typeof this[a])return this[a];else b=window.parseInt(a,16);return a.length===3?this[a]=[((b&3840)>>8)*0.062745098,((b&240)>>4)*0.062745098,(b&15)*0.062745098,1]:a.length===4?this[a]=[((b&61440)>>12)*0.062745098,((b&3840)>>8)*0.062745098,((b&240)>>4)*0.062745098,(b&15)*0.062745098]:a.length===6?this[a]=[((b&16711680)>>16)*0.00392156863,((b&65280)>>8)*0.00392156863,(b&255)*0.00392156863,1]:a.length===5?this[a]=[((b&983040)>>12)/255,((b&61440)>>
8)/255,((b&3840)>>4)/255,(b&240)/255]:a.length===8?(b=parseInt(a.substring(0,2),16)*0.00392156863,c=parseInt(a.substring(2,4),16)*0.00392156863,d=parseInt(a.substring(4,6),16)*0.00392156863,f=parseInt(a.substring(6,8),16)*0.00392156863,this[a]=[b,c,d,f]):a.match("^rgba")=="rgba"?(b=a.substring(5,a.length-1).split(","),b[0]*=0.00392156863,b[1]*=0.00392156863,b[2]*=0.00392156863,b[3]*=0.00392156863,this[a]=b):a.match("^rgb")=="rgb"?(b=a.substring(4,a.length-1).split(","),b[0]*=0.00392156863,b[1]*=0.00392156863,
b[2]*=0.00392156863,b[3]=1,this[a]=b):this[a]=[0,0,0,1]}};Tilt.ba(Tilt.g);Tilt.n.o("Tilt.Math",Tilt.g);Tilt=Tilt||{};
Tilt.Preferences={get:function(a,b){var c;try{return c=Cc["@mozilla.org/preferences-service;1"].getService(Ci.nsIPrefService).getBranch(this.hc),!c.prefHasUserValue(a)?i:b==="boolean"?c.getBoolPref(a):b==="string"?c.getCharPref(a):b==="integer"?c.getIntPref(a):M}catch(d){return Tilt.G.error(d.message),M}},set:function(a,b,c){var d;try{return d=Cc["@mozilla.org/preferences-service;1"].getService(Ci.nsIPrefService).getBranch(this.hc),b==="boolean"?d.setBoolPref(a,c):b==="string"?d.setCharPref(a,c):
b==="integer"?d.setIntPref(a,c):!1}catch(f){return Tilt.G.error(f.message),!1}},create:function(a,b,c){var d;try{return d=Cc["@mozilla.org/preferences-service;1"].getService(Ci.nsIPrefService).getBranch(this.hc),d.prefHasUserValue(a)?!1:b==="boolean"?d.setBoolPref(a,c):b==="string"?d.setCharPref(a,c):b==="integer"?d.setIntPref(a,c):!1}catch(f){return Tilt.G.error(f.message),!1}},hc:"extensions.tilt."};Tilt.ba(Tilt.Preferences);Tilt.n.o("Tilt.Preferences",Tilt.Preferences);Tilt=Tilt||{};
Tilt.kb={pd:M,next:function(){return this.pd()},Yc:function(){var a=0,b=0,c=0,d=1,f,g;if(arguments.length===0)return this.Yc(+new Date);else{a=this.Ra(" ");b=this.Ra(" ");c=this.Ra(" ");for(f=0;f<arguments.length;f++)a-=this.Ra(arguments[f]),a<0&&(a+=1),b-=this.Ra(arguments[f]),b<0&&(b+=1),c-=this.Ra(arguments[f]),c<0&&(c+=1);g=function(){var f=2091639*a+d*2.3283064365386963E-10;a=b;b=c;return c=f-(d=f|0)};g.gh=function(){return g()*4294967296};g.Eg=function(){return g()+(g()*2097152|0)*1.1102230246251565E-16};
return this.pd=g}},Ra:function(a){var b,c,d=4022871197,a=a.toString();for(b=0;b<a.length;b++)d+=a.charCodeAt(b),c=0.02519603282416938*d,d=c>>>0,c-=d,c*=d,d=c>>>0,c-=d,d+=c*4294967296;return(d>>>0)*2.3283064365386963E-10}};Tilt.ba(Tilt.kb);Tilt.kb.Yc(0);Tilt.n.o("Tilt.Random",Tilt.kb);Tilt=Tilt||{};Tilt.Rd={trim:function(a){return a.replace(/^\s+|\s+$/g,"")},Mg:function(a){return a.replace(/^\s+/,"")},ah:function(a){return a.replace(/\s+$/,"")}};Tilt.n.o("Tilt.String",Tilt.Rd);Tilt=Tilt||{};
Tilt.Qb={yf:function(a){var b,c,d,f;b=Tilt.H.Qa();c=Tilt.H.Qa();d=(b=Tilt.vc.prototype.Vd(b))?b.getParameter(b.MAX_TEXTURE_SIZE):0;d/=2;if(d>0)f=Tilt.H.of(a),b=Tilt.g.O(f.width,0,d),f=Tilt.g.O(f.height,0,d),c.width=b,c.height=f,d=c.getContext("2d"),d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height),d.drawWindow(a,0,0,b,f,"#fff");return c},se:function(a,b,c,d){var f=c.left,g=c.top,h=c.width,j=c.height;if(d)return c=b.getContext("2d"),c.translate(f,g),c.drawWindow(a,f,g,h,j,"#fff"),c.translate(-f,
-g),b;else if(this.na)return this.na.width=h,this.na.height=j,c=this.na.getContext("2d"),c.drawWindow(a,f,g,h,j,"#fff"),this.na;else if("undefined"===typeof this.na)return this.na=Tilt.H.Qa(),this.se(a,b,c);else this.na=M,delete this.na;return M}};Tilt.ba(Tilt.Qb);Tilt.n.o("Tilt.WebGL",Tilt.Qb);Tilt=Tilt||{};
Tilt.Sd={Vf:function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!0);d.send(M);d.onreadystatechange=function(){d.readyState===4&&"function"===typeof b&&b(d,c)}},Zg:function(a,b,c){function d(d,h){f[h]=d;g++;g===a.length&&"function"===typeof b&&b(f,c)}var f=[],g=0,h,j;for(h=0,j=a.length;h<j;h++)this.Vf(a[h],d,h)}};Tilt.ba(Tilt.Sd);Tilt.n.o("Tilt.Xhr",Tilt.Sd);Cu.import("resource://gre/modules/Services.jsm");TiltChrome=TiltChrome||{};TiltChrome.Config={};
TiltChrome.Config.c={Ca:{vb:{tb:{value:50},xb:{value:0},nb:{value:100},lb:{value:100},yb:{value:100},$b:{outline:[0,0,0,0.25]}},If:{tb:{value:50},xb:{value:0},nb:{value:100},lb:{value:100},yb:{value:100},$b:{outline:[0,0,0,0.25]}},xg:{tb:{value:57.5},xb:{value:50},nb:{value:100},lb:{value:7.5},yb:{value:100},$b:{outline:[1,1,1,0.7]}}},f:{og:{stroke:"#fff3"},html:{fill:"#FFF"},"head/body":{fill:"#E667AF"},title:{fill:"#CD0074"},script:{fill:"#A64B00"},style:{fill:"#FF9640"},div:{fill:"#5DC8CD"},span:{fill:"#67E46F"},
table:{fill:"#FF0700"},tr:{fill:"#FF4540"},td:{fill:"#FF7673"},ul:{fill:"#4671D5"},li:{fill:"#6C8CD5"},p:{fill:"#888"},a:{fill:"#123EAB"},img:{fill:"#FFB473"},iframe:{fill:"#85004B"},other:{fill:"#666"}}};
TiltChrome.Config.Visualization={nativeTiltEnabled:M,nativeTiltHello:M,refreshVisualization:M,sourceEditorTheme:M,hideUserInterfaceAtInit:M,disableMinidomAtInit:M,enableJoystick:M,useAccelerometer:M,escapeKeyCloses:M,keyShortcutOpenClose:M,reload:function(){try{this.nativeTiltEnabled=Services.prefs.getBoolPref("devtools.tilt.enabled")}catch(a){}this.nativeTiltHello=Tilt.Preferences.get("options.nativeTiltHello","boolean");this.refreshVisualization=Tilt.Preferences.get("options.refreshVisualization",
"integer");this.sourceEditorTheme=Tilt.Preferences.get("options.sourceEditorTheme","integer");this.hideUserInterfaceAtInit=Tilt.Preferences.get("options.hideUserInterfaceAtInit","boolean");this.disableMinidomAtInit=Tilt.Preferences.get("options.disableMinidomAtInit","boolean");this.enableJoystick=Tilt.Preferences.get("options.enableJoystick","boolean");this.useAccelerometer=Tilt.Preferences.get("options.useAccelerometer","boolean");this.escapeKeyCloses=Tilt.Preferences.get("options.escapeKeyCloses",
"boolean");this.keyShortcutOpenClose=Tilt.Preferences.get("options.keyShortcutOpenClose","string")}};
TiltChrome.Config.Visualization.Set={nativeTiltEnabled:function(a){try{Services.prefs.setBoolPref("devtools.tilt.enabled",a)}catch(b){}},nativeTiltHello:function(a){Tilt.Preferences.set("options.nativeTiltHello","boolean",a)},refreshVisualization:function(a){Tilt.Preferences.set("options.refreshVisualization","integer",a)},sourceEditorTheme:function(a){Tilt.Preferences.set("options.sourceEditorTheme","integer",a)},hideUserInterfaceAtInit:function(a){Tilt.Preferences.set("options.hideUserInterfaceAtInit",
"boolean",a)},disableMinidomAtInit:function(a){Tilt.Preferences.set("options.disableMinidomAtInit","boolean",a)},enableJoystick:function(a){Tilt.Preferences.set("options.enableJoystick","boolean",a)},useAccelerometer:function(a){Tilt.Preferences.set("options.useAccelerometer","boolean",a)},escapeKeyCloses:function(a){Tilt.Preferences.set("options.escapeKeyCloses","boolean",a)},keyShortcutOpenClose:function(a){Tilt.Preferences.set("options.keyShortcutOpenClose","string",a)}};Tilt.ba(TiltChrome.Config.c);
Tilt.ba(TiltChrome.Config.Visualization);TiltChrome.Config.Visualization.reload();TiltChrome=TiltChrome||{};TiltChrome.Kd={};
TiltChrome.Kd.Xe=function(){function a(){j.wg()}function b(a){a.preventDefault();a.stopPropagation();j.Oc(a.detail);j.Y||l.Oc(a.detail)}function c(a){a.preventDefault();a.stopPropagation();j.wb();l.wb()}function d(a){a.preventDefault();a.stopPropagation();j.wb();l.wb()}function f(a){a.preventDefault();a.stopPropagation();var b=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;j.Nc(b,a);l.Nc(b,a)}function g(a){a.preventDefault();a.stopPropagation();var b=a.which,c=a.clientX-a.target.offsetLeft,
a=a.clientY-a.target.offsetTop;j.Pc(c,a,b);l.Pc(c,a,b)}function h(a){a.preventDefault();a.stopPropagation();m=a.clientX-a.target.offsetLeft;p=a.clientY-a.target.offsetTop;j.Mc(m,p,a.which);j.Y?l.stop():l.Mc(m,p,a.which)}var j=Tilt.c,l=M,m=0,p=0;this.init=function(j){if(j){l=new Tilt.Id(j.width,j.height,0,[-window.content.pageXOffset,-window.content.pageYOffset],[0,0]);this.stop=l.stop.bind(l);this.translate=l.translate.bind(l);this.rotate=l.rotate.bind(l);this.zoom=l.zoom.bind(l);this.reset=l.reset.bind(l);
this.ra=l.ra.bind(l);j.addEventListener("mousedown",h,!1);j.addEventListener("mouseup",g,!1);j.addEventListener("click",k,!1);j.addEventListener("dblclick",w,!1);j.addEventListener("mousemove",f,!1);j.addEventListener("mouseover",d,!1);j.addEventListener("mouseout",c,!1);j.addEventListener("MozMousePixelScroll",b,!1);window.addEventListener("keydown",x,!1);window.addEventListener("keyup",t,!1);window.addEventListener("focus",a,!0);var j=document.getElementById("urlbar"),m=document.getElementById("searchbar");
"undefined"!==typeof j&&j!==M&&(j.addEventListener("focus",A,!1),j.addEventListener("blur",r,!1));"undefined"!==typeof m&&m!==M&&(m.addEventListener("focus",A,!1),m.addEventListener("blur",r,!1))}};this.update=function(a){var b=this.j,a=l.loop(a);b.dg(a.rotation);b.fg(a.ha)};var k=function(a){a.preventDefault();a.stopPropagation();var b=a.which,c=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;Math.abs(m-c)<2&&Math.abs(p-a)<2&&(j.click(c,a,b),j.Y||this.j.Lf(c,a));window.content.focus()}.bind(this),
w=function(a){a.preventDefault();a.stopPropagation();var b=a.clientX-a.target.offsetLeft,a=a.clientY-a.target.offsetTop;Math.abs(m-b)<2&&Math.abs(p-a)<2&&(j.jf(b,a),j.Y||this.j.Kf(b,a))}.bind(this),x=function(a){var b=a.keyCode||a.which;if(b>=37&&b<=40)a.preventDefault(),a.stopPropagation();else try{if("open"===TiltChrome.BrowserOverlay.C.q.state||"open"===TiltChrome.BrowserOverlay.F.q.state)return}catch(c){}!this.ic&&window.content.document.activeElement instanceof HTMLBodyElement&&(j.Ic(b),l.Ic(b))}.bind(this),
t=function(a){var b=a.keyCode||a.which;if(b>=37&&b<=40)a.preventDefault(),a.stopPropagation();else if(b===27)try{if("open"===TiltChrome.BrowserOverlay.C.q.state)TiltChrome.BrowserOverlay.C.q.hidePopup();else if("open"===TiltChrome.BrowserOverlay.F.q.state)TiltChrome.BrowserOverlay.F.q.hidePopup();else if(TiltChrome.Config.Visualization.escapeKeyCloses)TiltChrome.BrowserOverlay.destroy(!0,!0),TiltChrome.BrowserOverlay.href=M}catch(c){}this.ic||(j.Jc(b),l.Jc(b))}.bind(this),A=function(){this.ic=!0}.bind(this),
r=function(){this.ic=!1}.bind(this);this.destroy=function(s){j=this.j=M;if(s){h!==M&&(s.removeEventListener("mousedown",h,!1),h=M);g!==M&&(s.removeEventListener("mouseup",g,!1),g=M);k!==M&&(s.removeEventListener("click",k,!1),k=M);w!==M&&(s.removeEventListener("dblclick",w,!1),w=M);f!==M&&(s.removeEventListener("mousemove",f,!1),f=M);d!==M&&(s.removeEventListener("mouseover",d,!1),d=M);c!==M&&(s.removeEventListener("mouseout",c,!1),c=M);b!==M&&(s.removeEventListener("MozMousePixelScroll",b,!1),b=
M);x!==M&&(window.removeEventListener("keydown",x,!1),x=M);t!==M&&(window.removeEventListener("keyup",t,!1),t=M);a!==M&&(window.removeEventListener("focus",a,!0),a=M);var s=document.getElementById("urlbar"),v=document.getElementById("searchbar");A!==M&&(s&&s.removeEventListener("focus",A,!1),v&&v.removeEventListener("focus",A,!1),A=M);r!==M&&(s&&s.removeEventListener("focus",r,!1),v&&v.removeEventListener("focus",r,!1),r=M);l!==M&&(l.destroy(),l=M);p=m=M;Tilt.w(this)}};Tilt.n.o("TiltChrome.Controller.MouseAndKeyboard",
this)};TiltChrome=TiltChrome||{};
TiltChrome.Options={windowLoad:function(a,b){var c=b.document,d=c.getElementById("tilt-options-refreshVisualizationCheckbox"),f=c.getElementById("tilt-options-refreshVisualizationRadiogroup"),g=c.getElementById("tilt-options-hideUserInterfaceAtInit"),h=c.getElementById("tilt-options-disableMinidomAtInit"),j=c.getElementById("tilt-options-enableJoystick"),l=c.getElementById("tilt-options-useAccelerometer"),m=c.getElementById("tilt-options-escapeKeyCloses"),c=c.getElementById("tilt-options-keyShortcutOpenClose");TiltChrome.Config.Visualization.refreshVisualization<=
-1?(d.checked=!1,f.selectedIndex=-1):(d.checked=!0,f.selectedIndex=TiltChrome.Config.Visualization.refreshVisualization);m.checked=TiltChrome.Config.Visualization.escapeKeyCloses;g.checked=TiltChrome.Config.Visualization.hideUserInterfaceAtInit;h.checked=TiltChrome.Config.Visualization.disableMinidomAtInit;j.checked=TiltChrome.Config.Visualization.enableJoystick;l.checked=TiltChrome.Config.Visualization.useAccelerometer;c.value=TiltChrome.Config.Visualization.keyShortcutOpenClose;this.pc(c)},windowUnload:function(a,
b){var c=TiltChrome.Config.Visualization.Set,d=b.document,f=d.getElementById("tilt-options-hideUserInterfaceAtInit"),g=d.getElementById("tilt-options-disableMinidomAtInit"),h=d.getElementById("tilt-options-enableJoystick"),j=d.getElementById("tilt-options-useAccelerometer"),l=d.getElementById("tilt-options-escapeKeyCloses"),m=d.getElementById("tilt-options-keyShortcutOpenClose");c.refreshVisualization(d.getElementById("tilt-options-refreshVisualizationRadiogroup").selectedIndex);c.escapeKeyCloses(l.checked);
c.hideUserInterfaceAtInit(f.checked);c.disableMinidomAtInit(g.checked);c.enableJoystick(h.checked);c.useAccelerometer(j.checked);c.keyShortcutOpenClose(m.value.toUpperCase().replace(/\+/g," ").replace(/shift/i,"shift").replace(/control/i,"control").replace(/alt/i,"alt").replace(/command/i,"accel").replace(/space/i,"space").replace(/pgup/i,"pgup").replace(/pgdown/i,"pgdown").replace(/end/i,"end").replace(/home/i,"home").replace(/left/i,"left").replace(/up/i,"up").replace(/right/i,"right").replace(/down/i,
"down"))},windowKeyUp:function(a,b){(a.keyCode||a.which)===27&&b.close()},refreshVisualizationCheckboxPressed:function(a){var b=a.view.document.getElementById("tilt-options-refreshVisualizationRadiogroup");a.target.checked?(b.selectedIndex=1,b.disabled=!1):(b.selectedIndex=-1,b.disabled=!0)},refreshFastestRadioPressed:R(),refreshRecommendedRadioPressed:R(),refreshSlowestRadioPressed:R(),hideUICheckboxPressed:R(),disableMinidomCheckboxPressed:R(),enableJoystickCheckboxPressed:R(),useAccelerometerCheckboxPressed:R(),
escapeKeyCheckboxPressed:R(),openCloseTextboxFocus:function(a){a.target.zc=!0},openCloseTextboxKeyDown:function(a){var b=a.keyCode||a.which;if(b!==27){if(a.target.zc)a.target.value="",a.target.zc=M,delete a.target.zc;if(b>=32&&b<=40||b>=65&&b<=90)a.preventDefault(),a.stopPropagation();if(a.target.value.substr(-1)!=="+")a.target.value="";if(b===8||b===45||b===46)a.target.value="";b>=65&&b<=90&&(a.target.value+=String.fromCharCode(b));a.target.value.match(/shift/i)===M&&b===16&&(a.target.value+="shift+");
a.target.value.match(/control/i)===M&&b===17&&(a.target.value+="control+");a.target.value.match(/alt/i)===M&&b===18&&(a.target.value+="alt+");a.target.value.match(/command/i)===M&&b===224&&(a.target.value+="command+");a.target.value.match(/space/i)===M&&b===32&&(a.target.value+="space");a.target.value.match(/pgup/i)===M&&b===33&&(a.target.value+="pgup+");a.target.value.match(/pgdown/i)===M&&b===34&&(a.target.value+="pgdown+");a.target.value.match(/end/i)===M&&b===35&&(a.target.value+="end+");a.target.value.match(/home/i)===
M&&b===36&&(a.target.value+="home+");a.target.value.match(/left/i)===M&&b===37&&(a.target.value+="left+");a.target.value.match(/up/i)===M&&b===38&&(a.target.value+="up+");a.target.value.match(/right/i)===M&&b===39&&(a.target.value+="right+");a.target.value.match(/down/i)===M&&b===40&&(a.target.value+="down+");this.pc(a.target)}},openCloseResetButtonPressed:function(a){a=a.view.document.getElementById("tilt-options-keyShortcutOpenClose");a.value="accel+shift+M";this.pc(a)},pc:function(a){a.value=a.value.toUpperCase().replace(/\ /g,
"+").replace(/shift/i,"Shift").replace(/control/i,"Control").replace(/alt/i,"Alt").replace(/command/i,"Command").replace(/space/i,"Space").replace(/pgup/i,"PgUp").replace(/pgdown/i,"PgDown").replace(/end/i,"End").replace(/home/i,"Home").replace(/left/i,"Left").replace(/up/i,"Up").replace(/right/i,"Right").replace(/down/i,"Down").replace(/accel/i,function(){var a=navigator.appVersion;return a.indexOf("Win")!==-1?"Control":a.indexOf("Mac")!==-1?"Command":"Control"}())}};TiltChrome=TiltChrome||{};
TiltChrome.c={};
TiltChrome.c.We=function(){var a=Tilt.c,b=TiltChrome.Config.c,c=M,d=M,f=M,g=M,h=M,j=M,l=M,m=M,p=M,k=M,w=M,x=M,t=M,A=M,r=M,s=M,v=M,u=M,q=M,z=M,B=M,n=M,C=M,E=M,G=M,I=M,K=M,o=M,H=M,J=M,y=M,D=M,L=M,V=M,Q=M,O=M,aa=M,W=M,ca=M,ea=M,ja=M,Y=M,N=M,F=M,ga=M,ha=M,ia=M,ma=M,ua=M,va=M;this.init=function(S){if(S){j=new Tilt.Fa("chrome://tilt/skin/tilt-ui.png",{he:"nearest",ee:"nearest",onload:function(){this.j.r()}.bind(this)});c=new Tilt.oa;d=new Tilt.oa;l=new Tilt.z(j,[0,768,256,256],{width:S.width,height:S.height,
qa:!0,disabled:!0});I=new Tilt.e(new Tilt.z(j,[935,120,42,38]),{x:S.width-50,y:-5,padding:[0,0,0,5],onclick:function(){TiltChrome.BrowserOverlay.destroy(!0,!0);TiltChrome.BrowserOverlay.href=M}});K=new Tilt.e(new Tilt.z(j,[935,80,46,38]),{x:S.width-150,y:-5,padding:[0,0,0,5],onclick:function(){var b=S.width*0.5+197,c=S.height*0.5-218;ua.L(S.width*0.5-305,S.height*0.5-305);va.L(b,c);a.Of(f)}.bind(this)});o=new Tilt.e(new Tilt.z(j,[935,40,61,38]),{x:S.width-215,y:-5,padding:[0,0,0,5],onclick:function(){var a=
Tilt.T.get("folderPicker.string"),b=Tilt.T.get("webpageFilename.string");if(a=Tilt.pa.kg(a,"folder"))a.reveal(),this.j.Mf(a.path,b)}.bind(this)});H=new Tilt.e(new Tilt.z(j,[935,0,66,38]),{x:S.width-285,y:-5,padding:[0,0,0,5],onclick:function(){window.open("chrome://tilt/content/TiltChromeOptions.xul","Options","chrome, modal, centerscreen, width=410, height=320");TiltChrome.Config.Visualization.reload();TiltChromeEntryPoint.refreshKeyset()}.bind(this)});y=new Tilt.e(new Tilt.z(j,[935,200,48,38]),
{x:S.width-337,y:-5,padding:[0,0,0,5],i:!0,onclick:function(){this.j.we()}.bind(this)});D=new Tilt.e(new Tilt.z(j,[935,160,36,38]),{x:S.width-377,y:-5,padding:[0,0,0,5],i:!0,onclick:function(){this.j.ag()}.bind(this)});J=new Tilt.e(new Tilt.z(j,[935,240,84,38]),{x:S.width-465,y:-5,padding:[0,0,0,5],i:!0,onclick:function(){this.j.dc()}.bind(this)});L=new Tilt.e(new Tilt.z(j,[0,147,42,42]),{x:0,y:-5,padding:[6,6,6,6],onclick:function(){window.clearInterval(this.N);this.gd=0;this.N=window.setInterval(function(){this.gd++;
this.ia.translate(h.view.i?-5:5,0);this.gd>=20&&window.clearInterval(this.N)}.bind(this),1E3/60);d.i^=1;h.view.i^=1;if(!f.i)f.i=!0;if(!g.i)g.i=!0}.bind(this)});V=new Tilt.z(j,[0,0,145,145],{x:0,y:0,disabled:!0});Q=new Tilt.e(M,{x:50,y:4,width:45,height:30,onmousedown:function(){window.clearInterval(this.N);this.N=window.setInterval(function(){this.ia.translate(0,-5);a.R||window.clearInterval(this.N)}.bind(this),1E3/60)}.bind(this)});O=new Tilt.e(M,{x:50,y:110,width:45,height:30,onmousedown:function(){window.clearInterval(this.N);
this.N=window.setInterval(function(){this.ia.translate(0,5);a.R||window.clearInterval(this.N)}.bind(this),1E3/60)}.bind(this)});aa=new Tilt.e(M,{x:4,y:50,width:30,height:45,onmousedown:function(){window.clearInterval(this.N);this.N=window.setInterval(function(){this.ia.translate(-5,0);a.R||window.clearInterval(this.N)}.bind(this),1E3/60)}.bind(this)});W=new Tilt.e(M,{x:110,y:50,width:30,height:45,onmousedown:function(){window.clearInterval(this.N);this.N=window.setInterval(function(){this.ia.translate(5,
0);a.R||window.clearInterval(this.N)}.bind(this),1E3/60)}.bind(this)});ca=new Tilt.e(new Tilt.z(j,[0,190,42,42]),{x:50,y:135,padding:[6,6,6,6],onclick:function(){this.ia.reset(0.95)}.bind(this)});ea=new Tilt.e(new Tilt.z(j,[0,234,42,42]),{x:90,y:ca.v(),padding:[6,6,6,6],onclick:function(){this.ia.zoom(200)}.bind(this)});ja=new Tilt.e(new Tilt.z(j,[0,278,42,42]),{x:10,y:ca.v(),padding:[6,6,6,6],onclick:function(){this.ia.zoom(-200)}.bind(this)});m=new Tilt.z(j,[1,324,89,354],{x:0,y:293,disabled:!0});
h=new Tilt.Qd({x:85,y:300,width:130,height:S.height-310,background:"#0001",ve:[0,Math.MAX_VALUE],top:new Tilt.z(j,[45,222,33,30],{padding:[2,2,2,4]}),bottom:new Tilt.z(j,[45,255,33,30],{padding:[2,2,2,4]}),reset:new Tilt.z(j,[45,289,33,30],{padding:[2,4,2,2]})});p=new Tilt.e(M,{x:5,y:301,width:14,height:14,fill:b.f.html.fill,onclick:function(){P(b.f.html,p)}});k=new Tilt.e(M,{x:5,y:p.v()+20,width:14,height:14,fill:b.f["head/body"].fill,onclick:function(){P(b.f["head/body"],k)}});w=new Tilt.e(M,{x:5,
y:k.v()+20,width:14,height:14,fill:b.f.title.fill,onclick:function(){P(b.f.title,w)}});x=new Tilt.e(M,{x:5,y:w.v()+20,width:14,height:14,fill:b.f.style.fill,onclick:function(){P(b.f.style,x)}});t=new Tilt.e(M,{x:5,y:x.v()+20,width:14,height:14,fill:b.f.script.fill,onclick:function(){P(b.f.script,t)}});A=new Tilt.e(M,{x:5,y:t.v()+20,width:14,height:14,fill:b.f.div.fill,onclick:function(){P(b.f.div,A)}});r=new Tilt.e(M,{x:5,y:A.v()+20,width:14,height:14,fill:b.f.span.fill,onclick:function(){P(b.f.span,
r)}});s=new Tilt.e(M,{x:5,y:r.v()+20,width:14,height:14,fill:b.f.table.fill,onclick:function(){P(b.f.table,s)}});v=new Tilt.e(M,{x:5,y:s.v()+20,width:14,height:14,fill:b.f.tr.fill,onclick:function(){P(b.f.tr,v)}});u=new Tilt.e(M,{x:5,y:v.v()+20,width:14,height:14,fill:b.f.td.fill,onclick:function(){P(b.f.td,u)}});q=new Tilt.e(M,{x:5,y:u.v()+20,width:14,height:14,fill:b.f.ul.fill,onclick:function(){P(b.f.ul,q)}});z=new Tilt.e(M,{x:5,y:q.v()+20,width:14,height:14,fill:b.f.li.fill,onclick:function(){P(b.f.li,
z)}});B=new Tilt.e(M,{x:5,y:z.v()+20,width:14,height:14,fill:b.f.p.fill,onclick:function(){P(b.f.p,B)}});n=new Tilt.e(M,{x:5,y:B.v()+20,width:14,height:14,fill:b.f.a.fill,onclick:function(){P(b.f.a,n)}});C=new Tilt.e(M,{x:5,y:n.v()+20,width:14,height:14,fill:b.f.img.fill,onclick:function(){P(b.f.img,C)}});E=new Tilt.e(M,{x:5,y:C.v()+20,width:14,height:14,fill:b.f.iframe.fill,onclick:function(){P(b.f.iframe,E)}});G=new Tilt.e(M,{x:5,y:E.v()+20,width:14,height:14,fill:b.f.other.fill,onclick:function(){P(b.f.other,
G)}});var P=function(a,b){this.Ge=a;this.Fe=b;var c=Tilt.g.Ma(a.fill),c=Tilt.g.Zf(c[0]*255,c[1]*255,c[2]*255);TiltChrome.BrowserOverlay.F.refresh(c[0]*360,c[1]*100,c[2]*100);TiltChrome.BrowserOverlay.F.q.openPopup(M,M,200+b.X(),80+b.v())}.bind(this),Ja=new Tilt.z(j,[438,67,66,66]),Ga=new Tilt.z(j,[438,0,66,66]);Y=new Tilt.e(Ga,{x:39,y:170,padding:[12,10,12,12],onclick:function(){if(Y.type!==1){Y.type=1;Y.ye(Ja);var a=b.Ca.xg}else Y.type=0,Y.ye(Ga),a=b.Ca.If;F.Q(a.tb.value);ga.Q(a.xb.value);ha.Q(a.nb.value);
ia.Q(a.lb.value);ma.Q(a.yb.value);la();this.j.xe(a.$b.outline)}.bind(this)});N=new Tilt.e(new Tilt.z(j,[505,0,66,66]),{x:39,y:230,padding:[12,10,14,16],onclick:function(){g.i^=1;this.j.r()}.bind(this)});var fa=new Tilt.z(j,[574,131,29,29],{padding:[8,8,8,8]});F=new Tilt.Ea(fa,{x:64,y:12,size:120,value:b.Ca.vb.tb.value,onmousedown:function(){la()}});ga=new Tilt.Ea(fa,{x:F.X(),y:F.v()+19,size:120,value:b.Ca.vb.xb.value,onmousedown:function(){la()}});ha=new Tilt.Ea(fa,{x:F.X(),y:ga.v()+18,size:120,value:b.Ca.vb.nb.value,
onmousedown:function(){la()}});ia=new Tilt.Ea(fa,{x:F.X(),y:ha.v()+18,size:120,value:b.Ca.vb.lb.value,onmousedown:function(){la()}});ma=new Tilt.Ea(fa,{x:F.X(),y:ia.v()+18,size:120,value:b.Ca.vb.yb.value,onmousedown:function(){la()}});var la=function(){window.clearInterval(this.yd);this.yd=window.setInterval(function(){var b=Tilt.g.vf(F.S*0.01,ga.S*0.01,ha.S*0.01),c=ma.S*0.01;b[0]/=255;b[1]/=255;b[2]/=255;b[3]=ia.S*0.01;this.j.bg(b);this.j.cg(c);a.R||window.clearInterval(this.yd)}.bind(this),1E3/
60)}.bind(this),fa=new Tilt.z(j,[572,1,231,126],{disabled:!0});g=new Tilt.oa({x:77,y:239,i:!0,elements:[fa,F,ga,ha,ia,ma]});ua=new Tilt.z(j,[210,180,610,510],{disabled:!0});va=new Tilt.e(M,{width:30,height:30,onclick:function(){a.hf(f)}.bind(this)});f=new Tilt.oa({i:!0,background:"#0107",elements:[ua,va]});c.push(l,I,L);d.push(K,o,H,y,D,J,ca,ea,ja,V,Q,O,aa,W,Y,N,m,p,k,w,x,t,A,r,s,v,u,q,z,B,n,C,E,G);if(TiltChrome.Config.Visualization.hideUserInterfaceAtInit)L.onclick();if(TiltChrome.Config.Visualization.disableMinidomAtInit)h.view.i=
!0}};this.D=function(){a.D()};this.me=function(){y.i=!1;D.i=!1;J.i=!1};this.le=function(){y.i=!0;D.i=!0;J.i=!0};this.Rg=R();this.ne=function(){var a=TiltChrome.BrowserOverlay.F.Oa.contentDocument.colorPicked;this.Ge.fill=a;this.Fe.ec(a);this.Kc();this.j.oe()};this.ge=function(a,c,d,f){if(!TiltChrome.Config.Visualization.disableMinidomAtInit){if(h.sd)h.sd=!1,h.view.clear(),this.cd=0;if("undefined"===typeof this.cd)this.cd=0;if(!("undefined"===typeof a.localName||a.localName===M)){var d=this.cd++,g=
3+c*6,c=3+d*10,j,l,L,n;L=Tilt.g.O(a.localName.length,4,10);var d=Tilt.g.O(a.id.length,4,10),m=Tilt.g.O(a.className.length,4,10),o=g+L*10+3,p=o+d*2+3,g=new Tilt.e(M,{x:g,y:c,width:L*10,height:7,padding:[-1,-1,-1,-1],stroke:b.f.og.stroke});L=g.X()+g.La();n=g.v()+g.Bc()*2;a.id&&(j=new Tilt.e(M,{x:o,y:c,width:d*2,height:7,padding:[-1,-1,-1,-1],stroke:g.tc}),L=Math.max(L,j.X()+j.La()));a.className&&(l=new Tilt.e(M,{x:p,y:c,width:m*2,height:7,padding:[-1,-1,-1,-1],stroke:g.tc}),L=Math.max(L,l.X()+l.La()));
L>h.view.La()&&h.view.$c(L);h.bottom=n;if(g)h.view.push(g),g.localName=a.localName,g.onclick=function(){a.localName==="img"||a.localName==="input"||a.localName==="button"||a.localName==="meta"||a.localName==="link"||a.localName==="style"||a.localName==="script"||a.localName==="noscript"?this.j.dc():this.j.we();this.j.Ua(f)}.bind(this);if(j)h.view.push(j),j.ec(g.Hb),j.localName=a.localName,j.onclick=function(){this.j.dc();this.j.Ua(f)}.bind(this);if(l)h.view.push(l),l.ec(g.Hb),l.localName=a.localName,
l.onclick=function(){this.j.dc();this.j.Ua(f)}.bind(this)}}};this.Kc=function(){if(!TiltChrome.Config.Visualization.disableMinidomAtInit)h.view.forEach(function(a){a.ec((b.f[a.localName!=="head"&&a.localName!=="body"?a.localName:"head/body"]||b.f.other).fill)}),h.sd=!0};this.ra=function(a,b){l.Z(a,b);h.view.Zc(b-310);I.fa(a-50);K.fa(a-150);o.fa(a-215);H.fa(a-285);y.fa(a-337);D.fa(a-377);J.fa(a-465)};this.destroy=function(q){b=a=this.ia=this.j=M;q&&(c!==M&&(c.destroy(),c=M),d!==M&&(d.destroy(),d=M),
f!==M&&(f.destroy(),f=M),g!==M&&(g.destroy(),g=M),h!==M&&(h.destroy(),h=M),j!==M&&(j.destroy(),j=M),l!==M&&(l.destroy(),l=M),va=ua=ma=ia=ha=ga=F=N=Y=ja=ea=ca=W=aa=O=Q=V=L=D=y=J=H=o=K=I=G=E=C=n=B=u=v=s=r=A=t=x=w=k=p=m=M,Tilt.w(this))};Tilt.n.o("TiltChrome.UI",this)};TiltChrome=TiltChrome||{};
TiltChrome.Visualization=function(a,b,c){var d=new Tilt.vc(a,{Ta:function(){TiltChrome.BrowserOverlay.destroy(!0,!0);TiltChrome.BrowserOverlay.href=M;window.content.location.href="http://get.webgl.org/"},onsuccess:function(){window.setTimeout(function(){if(d&&d.Wb<1)TiltChrome.BrowserOverlay.destroy(!0,!0),TiltChrome.BrowserOverlay.href=M,window.content.location.href="http://get.webgl.org/troubleshooting/",Tilt.G.alert("Firefox",Tilt.T.get("tilt.error"))},1E3)}}),f=M,g=M,h=15,j=M,l=M,m=M,p={index:-1,
fill:"#fff",stroke:"000",Wa:1,sg:X(),tg:X(),ug:X(),vg:X()},k={Sa:X(),ha:X(),rotation:oa(),la:X()},w=!0,x=!0,t=!0,A=function(){d&&d.t&&(TiltChrome.Config.Visualization.reload(),m=new Tilt.Pb(TiltChrome.aa.Visualization.Bb,TiltChrome.aa.Visualization.rb),s(),v(),z(),Ba([0,0,0],k.Sa),Ba([0,0,0],k.ha),sa([0,0,0,1],k.rotation),Ba([0,0,0],k.la),window.setTimeout(function(){try{I(),K()}catch(a){}}.bind(this),100),window.content.focus())}.bind(this),r=function(){if(d&&d.t){d.loop(r,!0);x&&(x=!1,u());t&&(t=
!1,q());if(w){w=!1;d.clear(0,0,0,1);d.translate(d.width*0.5+100,d.height*0.5-50,-h*30);TiltChrome.Config.Visualization.useAccelerometer&&d.transform(Ia(Tilt.g.re(0,Tilt.g.map(k.la[0],-1,1,1.57079633,-1.57079633),Tilt.g.map(k.la[2],-1,1,-1.57079633,1.57079633))));d.translate(k.ha[0],0,k.ha[2]);d.transform(Ia(k.rotation));d.translate(0,k.ha[1],0);d.translate(k.Sa[0],k.Sa[1],0);d.Td("alpha");d.Wa(2);j.D();l.D();if(p.index!==-1){var a=j.I;d.Tc();d.qa(!1);d.fill(p.fill);d.stroke(p.stroke);d.Wa(p.Wa);d.Tf(Fa(a,
p.Ed,p.sg),Fa(a,p.Fd,p.tg),Fa(a,p.Gd,p.ug),Fa(a,p.Hd,p.vg))}c&&"function"===typeof c.D&&c.D(d.qb)}b&&"function"===typeof b.update&&b.update(d.qb);(d.Wb+1)%1E3===0&&TiltChrome.BrowserOverlay.bc()}}.bind(this),s=function(){if("undefined"!==typeof b)b.j=this,"function"===typeof b.init&&b.init(a)}.bind(this),v=function(){if("undefined"!==typeof c)c.j=this,c.ia=b,Tilt.c.r=this.r,"function"===typeof c.init&&c.init(a)}.bind(this),u=function(){var a=this.Qe;if("undefined"===typeof a||a===M){if(f=Tilt.Qb.yf(window.content),
g!==M&&g.destroy(),g=new Tilt.Fa(f,{Pf:!0}),j!==M)j.Ya=g}else if("object"===typeof a){var b=Tilt.Qb.se(window.content,f,a);b&&g.rg(b,a.left,a.top)}}.bind(this),q=function(){if(d&&d.t){Tilt.kb.Yc(Math.PI);var a=Tilt.kb.next,b=[],f=[],n=[],o=[],p=[],s=[],r=0,u=0;if(j!==M)j.Ya=M,j.destroy();l!==M&&l.destroy();Tilt.H.ze(function(j,l,m,k,q,t,v,w){c&&"function"===typeof c.ge&&c.ge(j,l,0,k);var m=d.t.getParameter(d.t.MAX_TEXTURE_SIZE),x=j.localName,k={innerHTML:j.innerHTML,attributes:j.attributes,localName:x,
className:j.className,id:j.id,zb:k,style:"",index:-1};try{k.style=window.getComputedStyle(j)}catch(z){}if(x==="head"||x==="title"||x==="meta"||x==="link"||x==="style"||x==="script"||x==="noscript"||x==="option"||x==="ins"||x==="del")s.push(k);else{var y=Tilt.H.Cc(j),x=y.width,j=y.height;x>2&&j>2?(k.index=p.length,p.push(k),k=b.length/3,l=l*h+a()*0.1,q=y.x+q+a()*0.1,t=y.y+t+a()*0.1,v=Math.min(v,x),w=Math.min(w,j),q>m||t>m||(q+v>m&&(v=Math.max(m-q,0)),t+w>m&&(w=Math.max(m-t,0)),r=Math.max(v,r),u=Math.max(w,
u),b.unshift(q,t,l,q+v,t,l,q+v,t+w,l,q,t+w,l,q,t+w,l-h,q+v,t+w,l-h,q+v,t+w,l,q,t+w,l,q,t,l,q+v,t,l,q+v,t,l-h,q,t,l-h),f.unshift(q/g.width,t/g.height,(q+v)/g.width,t/g.height,(q+v)/g.width,(t+w)/g.height,q/g.width,(t+w)/g.height,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1),n.unshift(k+0,k+1,k+2,k+0,k+2,k+3,k+4,k+5,k+6,k+4,k+6,k+7,k+8,k+9,k+10,k+8,k+10,k+11,k+10,k+9,k+6,k+10,k+6,k+5,k+8,k+11,k+4,k+8,k+4,k+7),o.unshift(k+0,k+1,k+1,k+2,k+2,k+3,k+3,k+0,k+4,k+5,k+5,k+6,k+6,k+7,k+7,k+4,k+8,k+9,k+9,k+
10,k+10,k+11,k+11,k+8,k+10,k+9,k+9,k+6,k+6,k+5,k+5,k+10))):s.push(k)}}.bind(this),function(){c&&"undefined"!==c.Kc&&c.Kc()}.bind(this),!0);j=new Tilt.Ob({M:new Tilt.V(b,3),Xa:new Tilt.V(f,2),ca:new Tilt.jb(n),ma:[1,1,1,1],alpha:1,Ya:g,fd:p,uf:s,D:function(){var a=Tilt.W,b=this.M,c=this.Xa,d=this.color,f=this.ca,g=this.ma,j=this.alpha,h=this.Ya,l=this.Tb,k=m;k.ed();k.Ha("vertexPosition",b);k.Ha("vertexTexCoord",c);k.Ha("vertexColor",d);k.Ga("mvMatrix",a.I);k.Ga("projMatrix",a.ea);k.xc("tint",g);k.af("alpha",
j);k.bindTexture("sampler",h);a.Xd(l,f);this.I=$(a.I);this.ea=$(a.ea)}});l=new Tilt.Ob({M:j.M,ca:new Tilt.jb(o),color:[0,0,0,0.25],Tb:d.LINES});r=Math.min(r,window.content.innerWidth);u=Math.min(u,window.content.innerHeight);k.Sa[0]=-r*0.5;k.Sa[1]=-u*0.5;this.oe()}}.bind(this),z=function(){var a=gBrowser.tabContainer,b=gBrowser.contentWindow,c=TiltChrome.BrowserOverlay.C.q,d=TiltChrome.BrowserOverlay.F.q;window.addEventListener("MozAfterPaint",B,!1);window.addEventListener("devicemotion",n,!1);a.addEventListener("TabClose",
C,!1);a.addEventListener("TabAttrModified",C,!1);b.addEventListener("blur",E,!1);b.addEventListener("focus",G,!1);b.addEventListener("resize",I,!1);gBrowser.addEventListener("mouseover",K,!0);gBrowser.addEventListener("load",o,!0);c.addEventListener("popupshown",H,!1);c.addEventListener("popuphidden",J,!1);d.addEventListener("popupshown",y,!1);d.addEventListener("popuphidden",D,!1)}.bind(this),B=function(b){if(!this.od&&!this.nd&&!this.md){var c=b.boundingClientRect,b=c.left,f=c.top,g=c.width,j=c.height,
h=a.offsetLeft,l=a.offsetTop;if(!(TiltChrome.Config.Visualization.refreshVisualization<=-1))if(TiltChrome.Config.Visualization.refreshVisualization>=0&&f>l&&b>h&&g>4&&j>4)this.Xc(c);else if(TiltChrome.Config.Visualization.refreshVisualization>=1&&d.Wb>100)c=window.content.innerWidth,h=window.content.innerHeight,(TiltChrome.Config.Visualization.refreshVisualization>=2||b<=0&&f<=0&&(b>=-c||f>=-h)&&(g>=c||j>=h))&&window.setTimeout(function(){try{!t&&!x&&(this.Xc(M),this.te())}catch(a){}}.bind(this),
10)}}.bind(this),n=function(a){if(TiltChrome.Config.Visualization.useAccelerometer){var a=a.accelerationIncludingGravity,b=a.x-Math.PI*0.01,c=a.kh;k.la[0]+=(a.y-Math.PI*0.01-k.la[0])*0.5;k.la[1]+=(c-k.la[1])*0.5;k.la[2]+=(b-k.la[2])*0.5;this.r()}}.bind(this),C=function(){if(TiltChrome.BrowserOverlay.href!==window.content.location.href)TiltChrome.BrowserOverlay.href=M,TiltChrome.BrowserOverlay.destroy(!0,!0)}.bind(this),E=function(){this.md=!0;window.setTimeout(function(){this.md=!1}.bind(this),250)}.bind(this),
G=function(){this.nd=!0;window.setTimeout(function(){this.nd=!1}.bind(this),250)}.bind(this),I=function(){this.od=!0;this.r();d.width=window.content.innerWidth;d.height=window.content.innerHeight;b&&"function"===typeof b.ra&&b.ra(d.width,d.height);c&&"function"===typeof c.ra&&c.ra(d.width,d.height);try{"open"===TiltChrome.BrowserOverlay.C.q.state&&TiltChrome.BrowserOverlay.C.q.hidePopup(),"open"===TiltChrome.BrowserOverlay.F.q.state&&TiltChrome.BrowserOverlay.F.q.hidePopup()}catch(a){}}.bind(this),
K=function(){window.setTimeout(function(){this.od=!1}.bind(this),100);this.r();d.width=window.content.innerWidth;d.height=window.content.innerHeight;if(a.width!==d.width||a.height!==d.height)a.width=d.width,a.height=d.height,d.t.viewport(0,0,a.width,a.height),r()}.bind(this),o=function(){"undefined"===typeof this.Le?this.Le=!0:TiltChrome.Config.Visualization.refreshVisualization<=0||window.setTimeout(function(){try{!t&&!x&&(this.Xc(M),this.te())}catch(a){}}.bind(this),1E3)}.bind(this),H=function(){"function"===
typeof c.me&&c.me();this.r()}.bind(this),J=function(){"function"===typeof c.le&&c.le();p.index=-1;TiltChrome.BrowserOverlay.bc();this.r()}.bind(this),y=function(){this.r()}.bind(this),D=function(){"function"===typeof c.ne&&c.ne();p.index=-1;TiltChrome.BrowserOverlay.bc();this.r()}.bind(this);this.r=function(){w=!0};this.Xc=function(a){this.Qe=a;x=w=!0};this.te=function(){t=w=!0};this.Mf=function(a,b){Tilt.pa.$f(f,a+Tilt.pa.separator+b+".png");j.save(a,b)};this.oe=function(){this.r();for(var a=TiltChrome.Config.c.f,
b=Tilt.g.O,c=Tilt.g.Ma,d=Math.floor,f=j.fd,g=[],h=0,l=j.ca.J.length;h<l;h+=30){var k=f[d(h/30)],k=c((a[k.localName!=="head"&&k.localName!=="body"?k.localName:"head/body"]||a.other).fill),m=[b(k[0]*0.6,0,1),b(k[1]*0.6,0,1),b(k[2]*0.6,0,1)],n=[b(k[0]*1,0,1),b(k[1]*1,0,1),b(k[2]*1,0,1)],k=m[0],o=m[1],m=m[2],p=n[0],q=n[1],n=n[2];g.unshift(0,0,0,0,0,0,0,0,0,0,0,0,k,o,m,k,o,m,p,q,n,p,q,n,p,q,n,p,q,n,k,o,m,k,o,m)}j.color=new Tilt.V(g,3)};this.Lf=function(a,b){this.pe(a,b,{Sc:function(a){"open"===TiltChrome.BrowserOverlay.C.q.state&&
TiltChrome.BrowserOverlay.C.q.hidePopup();var b=a[0].ke,a=b.index,b=b.localName!=="head"&&b.localName!=="body"?b.localName:"head/body",c=TiltChrome.Config.c.f[b]||TiltChrome.Config.c.f.other;if(b!=="html"){p.index=a;p.fill=c.fill+"66";var a=p.index*30,b=j.M.J,c=j.ca.J,d=[b[c[a+1]*3],b[c[a+1]*3+1],b[c[a+1]*3+2],1],f=[b[c[a+2]*3],b[c[a+2]*3+1],b[c[a+2]*3+2],1],g=[b[c[a+5]*3],b[c[a+5]*3+1],b[c[a+5]*3+2],1];p.Ed=[b[c[a]*3],b[c[a]*3+1],b[c[a]*3+2],1];p.Fd=d;p.Gd=f;p.Hd=g;this.r()}}.bind(this),Ta:function(){"open"===
TiltChrome.BrowserOverlay.C.q.state&&TiltChrome.BrowserOverlay.C.q.hidePopup();p.index=-1}})};this.Kf=function(a,b){this.pe(a,b,{Sc:function(a){this.Ua(a[0].ke)}.bind(this),Ta:function(){"open"===TiltChrome.BrowserOverlay.C.q.state?TiltChrome.BrowserOverlay.C.q.hidePopup():"open"===TiltChrome.BrowserOverlay.F.q.state&&TiltChrome.BrowserOverlay.F.q.hidePopup()}})};this.pe=function(a,b,c){for(var c=c||{},a=Tilt.g.ef([a,b,0],[a,b,1],[0,0,d.width,d.height],j.I,j.ea),b=[],f=X(),g=j.ca.J,h=j.M.J,k=0,l=
g.length,m,n,o;k<l;k+=3)m=[h[g[k]*3],h[g[k]*3+1],h[g[k]*3+2]],n=[h[g[k+1]*3],h[g[k+1]*3+1],h[g[k+1]*3+2]],o=[h[g[k+2]*3],h[g[k+2]*3+1],h[g[k+2]*3+2]],Tilt.g.Bf(m,n,o,a,f)>0&&b.push({ke:j.fd[Math.floor(k/30)],location:X(f)});b.length>0?(b.sort(function(a,b){return a.location[2]<b.location[2]?1:-1}),"function"===typeof c.Sc&&c.Sc(b)):"function"===typeof c.Ta&&c.Ta();this.r()};this.Ua=function(a){if("number"===typeof a){for(var b=j.fd,c=j.uf,d=0,f=b.length;d<f;d++){var g=b[d];if(a===g.zb){this.Ua(g);
return}}b=0;for(d=c.length;b<d;b++)if(f=c[b],a===f.zb){this.Ua(f);break}}else if("object"===typeof a){var c=TiltChrome.BrowserOverlay.C.q,b=Tilt.Rd.trim(ya(a.innerHTML)).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"\n",d=Tilt.H.pf(a.style),f=Tilt.H.nf(a.attributes),g=document.getElementById("tilt-sourceeditor-iframe"),h=g.contentDocument.getElementById("code");document.getElementById("tilt-sourceeditor-title").value="<"+a.localName+(a.className?' class="'+a.className+'"':"")+(a.id?' id="'+a.id+'"':
"")+">";c.openPopup(M,"overlap",window.innerWidth-g.width-21,window.innerHeight-g.height-77,!1,!1);h.wf=b;h.ff=d;h.Ze=f;a.localName==="img"||a.localName==="input"||a.localName==="button"||h.Vb==="attr"?(h.innerHTML=f,g.contentWindow.refreshCodeEditor("css")):h.Vb==="css"?(h.innerHTML=d,g.contentWindow.refreshCodeEditor("css")):(h.innerHTML=b,g.contentWindow.refreshCodeEditor("html"));c=a.index;a=a.localName!=="head"&&a.localName!=="body"?a.localName:"head/body";b=TiltChrome.Config.c.f[a]||TiltChrome.Config.c.f.other;
if(a!=="html")p.index=c,p.fill=b.fill+"66",a=p.index*30,c=j.M.J,b=j.ca.J,d=[c[b[a+1]*3],c[b[a+1]*3+1],c[b[a+1]*3+2],1],f=[c[b[a+2]*3],c[b[a+2]*3+1],c[b[a+2]*3+2],1],g=[c[b[a+5]*3],c[b[a+5]*3+1],c[b[a+5]*3+2],1],p.Ed=[c[b[a]*3],c[b[a]*3+1],c[b[a]*3+2],1],p.Fd=d,p.Gd=f,p.Hd=g,this.r()}};this.we=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.wf;b.Vb="html";a.contentWindow.refreshCodeEditor("html")};this.ag=function(){var a=
document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.ff;b.Vb="css";a.contentWindow.refreshCodeEditor("css")};this.dc=function(){var a=document.getElementById("tilt-sourceeditor-iframe"),b=a.contentDocument.getElementById("code");b.innerHTML=b.Ze;b.Vb="attr";a.contentWindow.refreshCodeEditor("css")};this.fg=function(a){var b=a[1],c=a[2];if(k.ha[0]!=a[0]||k.ha[1]!=b||k.ha[2]!=c)Ba(a,k.ha),this.r()};this.dg=function(a){var b=a[1],c=a[2],d=a[3];
if(k.rotation[0]!=a[0]||k.rotation[1]!=b||k.rotation[2]!=c||k.rotation[3]!=d)sa(a,k.rotation),this.r()};this.xe=function(a){l.color=a;this.r()};this.dh=function(a){l.color[3]=a;this.r()};this.bg=function(a){j.ma=a;this.r()};this.bh=function(a){j.ma[3]=a;this.r()};this.cg=function(a){j.alpha=a;this.r()};this.destroy=function(){var L=gBrowser.tabContainer,V=gBrowser.contentWindow,Q=TiltChrome.BrowserOverlay.C.q,O=TiltChrome.BrowserOverlay.F.q;B!==M&&(window.removeEventListener("MozAfterPaint",B,!1),
B=M);n!==M&&(window.removeEventListener("devicemotion",n,!1),n=M);C!==M&&(L.removeEventListener("TabClose",C,!1),L.removeEventListener("TabAttrModified",C,!1),C=M);E!==M&&(V.removeEventListener("blur",E,!1),E=M);G!==M&&(V.removeEventListener("focus",G,!1),G=M);I!==M&&(V.removeEventListener("resize",I,!1),I=M);K!==M&&(gBrowser.removeEventListener("mouseover",K,!0),K=M);o!==M&&(gBrowser.removeEventListener("load",o,!0),o=M);H!==M&&(Q.removeEventListener("popupshown",H,!1),H=M);J!==M&&(Q.removeEventListener("popuphidden",
J,!1),J=M);y!==M&&(O.removeEventListener("popupshown",y,!1),y=M);D!==M&&(O.removeEventListener("popuphidden",D,!1),D=M);b&&"function"===typeof b.destroy&&(b.destroy(a),b=M);c&&"function"===typeof c.destroy&&(c.destroy(a),c=M);g!==M&&(g.destroy(),g=M);j!==M&&(j.destroy(),j=M);l!==M&&(l.destroy(),l=M);m!==M&&(m.destroy(),m=M);p!==M&&(Tilt.w(p),p=M);k!==M&&(Tilt.w(k),k=M);d!==M&&(d.destroy(),d=M);z=q=u=v=s=r=A=t=x=w=k=p=m=l=j=h=g=f=c=b=a=M;Tilt.w(this)};Tilt.n.o("TiltChrome.Visualization",this);A.call(this);
r.call(this)};TiltChrome=TiltChrome||{};TiltChrome.aa={};TiltChrome.aa.Visualization={Bb:"attribute vec3 vertexPosition;\nattribute vec2 vertexTexCoord;\nattribute vec3 vertexColor;\nuniform mat4 mvMatrix;\nuniform mat4 projMatrix;\nvarying vec2 texCoord;\nvarying vec3 color;\nvoid main(void) {\n  gl_Position = projMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n  texCoord = vertexTexCoord;\n  color = vertexColor;\n}",rb:"#ifdef GL_ES\nprecision lowp float;\n#endif\nuniform vec4 tint;\nuniform float alpha;\nuniform sampler2D sampler;\nvarying vec2 texCoord;\nvarying vec3 color;\nvoid main(void) {\n  if (texCoord.x < 0.0) {\n    gl_FragColor = vec4(color.r, color.g, color.b, tint.a);\n  }\n  else {\n    vec3 texture = texture2D(sampler, texCoord).rgb;\n    gl_FragColor = tint * alpha * vec4(texture, 1.0) + tint * (1.0 - alpha);\n  }\n}"};
